<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Crimes violentos em Minas Gerais</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="dash_files/libs/clipboard/clipboard.min.js"></script>
<script src="dash_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="dash_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="dash_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="dash_files/libs/quarto-html/popper.min.js"></script>
<script src="dash_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="dash_files/libs/quarto-html/anchor.min.js"></script>
<link href="dash_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dash_files/libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="dash_files/libs/quarto-html/quarto-syntax-highlighting-dark-4d9afe2b8d18ee9fa5d0d57b5ed4214d.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="dash_files/libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="dash_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="dash_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="dash_files/libs/bootstrap/bootstrap-6a464a75749143d765cc8984e0decab1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="dash_files/libs/bootstrap/bootstrap-dark-6a464a75749143d765cc8984e0decab1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="light">
<link href="dash_files/libs/bootstrap/bootstrap-6a464a75749143d765cc8984e0decab1.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script src="dash_files/libs/quarto-dashboard/quarto-dashboard.js"></script>
<script src="dash_files/libs/quarto-dashboard/stickythead.js"></script>



<script src="dash_files/libs/quarto-dashboard/web-components.js" type="module"></script>
<script src="dash_files/libs/quarto-dashboard/components.js"></script>



</head>

<body class="quarto-dashboard dashboard-fill dashboard-sidebar fullcontent quarto-light">

<header id="quarto-dashboard-header">
<nav class="navbar navbar-expand-md slim" data-bs-theme="dark">
  <div class="navbar-container container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-controls="dashboard-collapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>    


    <div class="navbar-brand-container">


      <div class="navbar-title">
        <div class="navbar-title-text"><a href="#">Crimes violentos em Minas Gerais</a></div>
        
        
      </div>
    </div>
<div id="dashboard-collapse" class="navbar-collapse collapse"><ul class="navbar-nav navbar-nav-scroll me-auto" role="tablist"><li class="nav-item" role="presentation"><a id="tab-estatísticas" class="nav-link active" data-bs-toggle="tab" role="tab" data-bs-target="#estatísticas" data-scrolling="false" href="#estatísticas" aria-controls="estatísticas" aria-selected="true"><span class="nav-link-text">Estatísticas</span></a></li><li class="nav-item" role="presentation"><a id="tab-rankings" class="nav-link" data-bs-toggle="tab" role="tab" data-bs-target="#rankings" data-scrolling="false" href="#rankings" aria-controls="rankings" aria-selected="false"><span class="nav-link-text">Rankings</span></a></li><li class="nav-item" role="presentation"><a id="tab-mapas" class="nav-link" data-bs-toggle="tab" role="tab" data-bs-target="#mapas" data-scrolling="false" href="#mapas" aria-controls="mapas" aria-selected="false"><span class="nav-link-text">Mapas</span></a></li></ul></div></div>
</nav>
</header>
<div class="page-layout-custom quarto-dashboard-content bslib-gap-spacing html-fill-container bslib-page-fill quarto-dashboard-pages dashboard-sidebar-container">  

<style class="bslib-grid-item html-fill-item">
    .navbar, .quarto-dashboard #quarto-dashboard-header .navbar .navbar-nav .active {
        background-color: #274862
    }
    .quarto-dashboard #quarto-dashboard-header .navbar .navbar-nav .active {
        border-bottom: 3px solid #fdfefe;
    }
    .bslib-value-box .value-box-title {
        font-size: 0.8rem;
    }
    .card-header, .quarto-dashboard aside.sidebar {
        background-color: #203C52;
        color: #fdfefe;
    }
    .bslib-sidebar-layout>.main {
        background-color: #172C3C;
    }
    .card-header-tabs .nav-link.active {
        background-color: #274862;
        border-bottom-color: #274862;
    }
    .nav-tabs .nav-link.active, .nav-tabs .nav-item.show .nav-link, .nav-link, .nav-link:hover, .nav-link:focus {
        color: #fdfefe;
    }
    .bslib-sidebar-layout>.collapse-toggle, .bslib-sidebar-layout.sidebar-collapsed>.collapse-toggle {
        color: #fdfefe;
    }
    #popCidade {
        background-color: #335A7A;
        border-radius: 3px;
        padding: 4px 9px;
        font-size: small;
    }
    .irs--shiny .irs-from, .irs--shiny .irs-to, .irs--shiny .irs-single {
        background-color: #335A7A;
        padding: 1px 2px;
        font-size: 10px;
    }
    .irs--shiny .irs-grid-pol.small {
        background-color: #000;
    }
    .irs--shiny.irs-with-grid {
        margin-left: 2px;
    }
    .irs--shiny .irs-bar {
        border-top: 1px solid #335A7A;
        border-bottom: 1px solid #335A7A;
        background: #335A7A;
    }
    .bslib-page-fill {
        gap: 0;
    }
    .quarto-dashboard .callout {
        margin-bottom: 12px;
        margin-top: auto;
    }
    div.callout-important.callout {
        border-left: 5px solid #335A7A;
        border-right: 1px solid #335A7A;
        border-top: 1px solid #335A7A;
        border-bottom: 1px solid #335A7A;
    }
    div.callout-important.callout-style-default>.callout-header {
        background-color: #172C3C;
        border-radius: 0 0.375rem 0.375rem 0;
    }
    .callout-btn-toggle {
        display: none !important;
    }
    .cell-output-display:not(.no-overflow-x), .knitsql-table:not(.no-overflow-x) {
        overflow-x: hidden;
    }
    .shiny-input-container .checkbox input:focus, .shiny-input-container .checkbox-inline input:focus {
        box-shadow: none;
    }
    .quarto-dashboard .card .card-toolbar .shiny-input-container {
        flex-direction: row;
    }
    .quarto-dashboard .card .card-toolbar .shiny-input-select {
        width: 165px;
    }
    .card.bslib-value-box[data-full-screen="false"]:hover>*>.bslib-full-screen-enter
    {
        display: none;
    }
    .bslib-card .bslib-navs-card-title {
        flex-direction: row-reverse;
    }
    .dashboard-card-no-title div.card-toolbar.html-fill-item.html-fill-container {
        flex-grow: inherit;
        width: fit-content;
        margin-bottom: auto;
    }
</style>
<div class="bslib-sidebar-layout html-fill-item html-fill-container" data-bslib-sidebar-open="desktop" data-bslib-sidebar-init="true" data-bslib-sidebar-border="false" data-bslib-sidebar-border-radius="false"><div class="main html-fill-container html-fill-item"><div class="sidebar-content html-fill-item html-fill-container">
<div class="tab-content bslib-grid html-fill-item html-fill-container" style="display: grid; grid-template-columns: minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div id="estatísticas" class="dashboard-page tab-pane show active html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-estatísticas">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 20fr) minmax(3em, 80fr); grid-auto-columns: minmax(0, 1fr);">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr) minmax(3em, 1fr) minmax(3em, 1fr) minmax(3em, 1fr) minmax(3em, 1fr) minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container bslib-value-box" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5 5" style="color:#FFFFFF;background-color:#995052;--bslib-color-fg:#FFFFFF;--bslib-color-bg:#995052;" data-full-screen="false">
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="value-box-area html-fill-item html-fill-container">
<p class="value-box-title">Número total de crimes</p>
<div class="shiny-text-output value-box-value" id="crimesTotais"></div>
</div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container bslib-value-box" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5 5" style="color:#FFFFFF;background-color:#995052;--bslib-color-fg:#FFFFFF;--bslib-color-bg:#995052;" data-full-screen="false">
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="value-box-area html-fill-item html-fill-container">
<p class="value-box-title">Crimes por mil habitantes</p>
<div class="shiny-text-output value-box-value" id="crimesRelativos"></div>
</div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container bslib-value-box" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5 5" style="color:#FFFFFF;background-color:#995052;--bslib-color-fg:#FFFFFF;--bslib-color-bg:#995052;" data-full-screen="false">
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="value-box-area html-fill-item html-fill-container">
<p class="value-box-title">Média mensal de crimes</p>
<div class="shiny-text-output value-box-value" id="crimesMediaMensal"></div>
</div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container bslib-value-box" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5 5" style="color:#FFFFFF;background-color:#995052;--bslib-color-fg:#FFFFFF;--bslib-color-bg:#995052;" data-full-screen="false">
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="value-box-area html-fill-item html-fill-container">
<p class="value-box-title">Variação no último mês</p>
<div class="shiny-text-output value-box-value" id="crimesVariacao"></div>
</div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container bslib-value-box" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5 5" style="color:#FFFFFF;background-color:#995052;--bslib-color-fg:#FFFFFF;--bslib-color-bg:#995052;" data-full-screen="false">
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="value-box-area html-fill-item html-fill-container">
<p class="value-box-title">Posição absoluta em MG</p>
<div class="shiny-text-output value-box-value" id="crimesPosAbsoluta"></div>
</div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div><div class="card bslib-card bslib-mb-spacing html-fill-item html-fill-container bslib-value-box" data-bslib-card-init="" data-require-bs-caller="card()" data-require-bs-version="5 5" style="color:#FFFFFF;background-color:#995052;--bslib-color-fg:#FFFFFF;--bslib-color-bg:#995052;" data-full-screen="false">
<div class="card-body bslib-gap-spacing html-fill-item html-fill-container" style="margin-top:auto;margin-bottom:auto;flex:1 1 auto;">
<div class="value-box-area html-fill-item html-fill-container">
<p class="value-box-title">Posição relativa em MG</p>
<div class="shiny-text-output value-box-value" id="crimesPosRelativa"></div>
</div>
</div>
<script data-bslib-card-init="">bslib.Card.initializeAllCards();</script>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-columns: minmax(3em, 1fr) minmax(3em, 1fr);
grid-auto-rows: minmax(0, 1fr);">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-title="Natureza do crime" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header"><div class="card-title html-fill-item html-fill-container"><span style="display: inline">
Natureza do crime
</span></div></div>
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-plot-output html-fill-item html-fill-container" id="gr_naturezaCrime" style="width:100%;height:400px;"></div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div><div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card cell html-fill-item html-fill-container bslib-card" data-title="Dados históricos" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header"><div class="card-toolbar html-fill-item html-fill-container" data-target-element="next" data-target-position="header"><div class="card-title html-fill-item html-fill-container"><span style="display: inline">
Dados históricos
</span></div>
<div class="cell-output-display html-fill-item html-fill-container">
<div class="form-group shiny-input-container html-fill-item html-fill-container">
<div class="checkbox html-fill-item html-fill-container">
<label>
<input id="dadosMensais" type="checkbox" class="shiny-input-checkbox">
<span>Dados mensais</span>
</label>
</div>
</div>
</div>
</div>
</div>
<div class="card-body html-fill-item html-fill-container">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="plotly html-widget html-widget-output shiny-report-size shiny-report-theme html-fill-item html-fill-container" id="gr_historicoCrime" style="width:100%;height:400px;"></div>
</div>
</div>
<bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div>
</div>
</div><div id="rankings" class="dashboard-page tab-pane grid-skip html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-rankings">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card tabset html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header dashboard-card-no-title bslib-navs-card-title">
<div class="card-toolbar html-fill-item html-fill-container" data-target-element="next" data-target-position="header">
<div class="cell-output-display html-fill-item html-fill-container no-overflow-x">
<div class="form-group shiny-input-container html-fill-item html-fill-container">
<label class="control-label" id="pop-label" for="pop">Cidades:</label>
<div class="html-fill-item html-fill-container">
<select id="pop" class="shiny-input-select"><option value="Todas" selected="">Todas</option>
<option value="Grandes">Grandes</option>
<option value="Médias">Médias</option>
<option value="Pequenas">Pequenas</option>
<option value="Grandes e médias">Grandes e médias</option>
<option value="Médias e pequenas">Médias e pequenas</option></select>
<script type="application/json" data-for="pop" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display html-fill-item html-fill-container no-overflow-x">
<div class="form-group shiny-input-container html-fill-item html-fill-container">
<label class="control-label" id="ordem-label" for="ordem">Ordem:</label>
<div class="html-fill-item html-fill-container">
<select id="ordem" class="shiny-input-select"><option value="Decrescente" selected="">Decrescente</option>
<option value="Crescente">Crescente</option></select>
<script type="application/json" data-for="ordem" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
</div>
<ul class="nav nav-tabs card-header-tabs" role="tablist" data-tabsetid="card-tabset-9"><li class="nav-item" role="presentation"><a href="#card-tabset-9-1" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="Criminalidade" aria-selected="true" class="nav-link active">Criminalidade</a></li><li class="nav-item" role="presentation"><a href="#card-tabset-9-2" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="População" aria-selected="false" class="nav-link">População</a></li></ul></div>


<div class="tab-content html-fill-item html-fill-container" data-tabset-id="card-tabset-9"><div class="tab-pane active show html-fill-item html-fill-container" role="tabpanel" id="card-tabset-9-1"><div class="card-body html-fill-item html-fill-container" data-title="Criminalidade">
<div class="cell-output-display html-fill-item html-fill-container no-overflow-x">
<div id="tb_ranking" class="shiny-html-output shiny-table-output html-fill-item html-fill-container"></div>
</div>
</div></div><div class="tab-pane html-fill-item html-fill-container" role="tabpanel" id="card-tabset-9-2"><div class="card-body html-fill-item html-fill-container" data-title="População">
<div class="cell-output-display html-fill-item html-fill-container no-overflow-x">
<div id="tb_populacao" class="shiny-html-output shiny-table-output html-fill-item html-fill-container"></div>
</div>
</div></div></div><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div><div id="mapas" class="dashboard-page tab-pane grid-skip html-fill-item html-fill-container" data-orientation="rows" aria-labelledby="tab-mapas">
<div class="html-fill-item html-fill-container bslib-grid" style="display: grid; grid-template-rows: minmax(3em, 1fr); grid-auto-columns: minmax(0, 1fr);">
<div class="card tabset html-fill-item html-fill-container bslib-card" data-bslib-card-init="" data-require-bs-caller="card()" data-full-screen="false">
<div class="card-header dashboard-card-no-title bslib-navs-card-title">

<ul class="nav nav-tabs card-header-tabs" role="tablist" data-tabsetid="card-tabset-10"><li class="nav-item" role="presentation"><a href="#card-tabset-10-1" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="Mapa da violência" aria-selected="true" class="nav-link active">Mapa da violência</a></li><li class="nav-item" role="presentation"><a href="#card-tabset-10-2" role="tab" data-toggle="tab" data-bs-toggle="tab" data-value="Localização" aria-selected="false" class="nav-link">Localização</a></li></ul></div>


<div id="3ade8a4a-fb1d-4a6c-8409-ac45482d5fc9" class="hidden html-fill-item html-fill-container">

</div>
<div class="tab-content html-fill-item html-fill-container" data-tabset-id="card-tabset-10"><div class="tab-pane active show html-fill-item html-fill-container" role="tabpanel" id="card-tabset-10-1"><div class="card-body html-fill-item html-fill-container" data-title="Mapa da violência">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-plot-output html-fill-item html-fill-container" id="gr_mapaViolencia" style="width:100%;height:400px;"></div>
</div>
</div></div><div class="tab-pane html-fill-item html-fill-container" role="tabpanel" id="card-tabset-10-2"><div class="card-body html-fill-item html-fill-container" data-title="Localização">
<div class="cell-output-display html-fill-item html-fill-container">
<div class="shiny-plot-output html-fill-item html-fill-container" id="gr_localizacao" style="width:100%;height:400px;"></div>
</div>
</div></div></div><bslib-tooltip placement="auto" bsoptions="[]" data-require-bs-version="5" data-require-bs-caller="tooltip()">
    <template>Expand</template>
    <span class="bslib-full-screen-enter badge rounded-pill">
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" style="height:1em;width:1em;" aria-hidden="true" role="img"><path d="M20 5C20 4.4 19.6 4 19 4H13C12.4 4 12 3.6 12 3C12 2.4 12.4 2 13 2H21C21.6 2 22 2.4 22 3V11C22 11.6 21.6 12 21 12C20.4 12 20 11.6 20 11V5ZM4 19C4 19.6 4.4 20 5 20H11C11.6 20 12 20.4 12 21C12 21.6 11.6 22 11 22H3C2.4 22 2 21.6 2 21V13C2 12.4 2.4 12 3 12C3.6 12 4 12.4 4 13V19Z"></path></svg>
    </span>
</bslib-tooltip><script data-bslib-card-init="">bslib.Card.initializeAllCards();</script></div>
</div>
</div>
</div>
</div></div><aside id="bslib-sidebar-1" class="sidebar html-fill-container html-fill-item"><div class="html-fill-container html-fill-item">
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="cidade-label" for="cidade">Cidade:</label>
<div>
<select id="cidade" class="shiny-input-select"><option value="ABADIA DOS DOURADOS">ABADIA DOS DOURADOS</option>
<option value="ABAETE">ABAETE</option>
<option value="ABRE-CAMPO">ABRE-CAMPO</option>
<option value="ACAIACA">ACAIACA</option>
<option value="ACUCENA">ACUCENA</option>
<option value="AGUA BOA">AGUA BOA</option>
<option value="AGUA COMPRIDA">AGUA COMPRIDA</option>
<option value="AGUANIL">AGUANIL</option>
<option value="AGUAS FORMOSAS">AGUAS FORMOSAS</option>
<option value="AGUAS VERMELHAS">AGUAS VERMELHAS</option>
<option value="AIMORES">AIMORES</option>
<option value="AIURUOCA">AIURUOCA</option>
<option value="ALAGOA">ALAGOA</option>
<option value="ALBERTINA">ALBERTINA</option>
<option value="ALEM PARAIBA">ALEM PARAIBA</option>
<option value="ALFENAS">ALFENAS</option>
<option value="ALFREDO VASCONCELOS">ALFREDO VASCONCELOS</option>
<option value="ALMENARA">ALMENARA</option>
<option value="ALPERCATA">ALPERCATA</option>
<option value="ALPINOPOLIS">ALPINOPOLIS</option>
<option value="ALTEROSA">ALTEROSA</option>
<option value="ALTO CAPARAO">ALTO CAPARAO</option>
<option value="ALTO JEQUITIBA">ALTO JEQUITIBA</option>
<option value="ALTO RIO DOCE">ALTO RIO DOCE</option>
<option value="ALVARENGA">ALVARENGA</option>
<option value="ALVINOPOLIS">ALVINOPOLIS</option>
<option value="ALVORADA DE MINAS">ALVORADA DE MINAS</option>
<option value="AMPARO DA SERRA">AMPARO DA SERRA</option>
<option value="ANDRADAS">ANDRADAS</option>
<option value="ANDRELANDIA">ANDRELANDIA</option>
<option value="ANGELANDIA">ANGELANDIA</option>
<option value="ANTONIO CARLOS">ANTONIO CARLOS</option>
<option value="ANTONIO DIAS">ANTONIO DIAS</option>
<option value="ANTONIO PRADO DE MINAS">ANTONIO PRADO DE MINAS</option>
<option value="ARACAI">ARACAI</option>
<option value="ARACITABA">ARACITABA</option>
<option value="ARACUAI">ARACUAI</option>
<option value="ARAGUARI">ARAGUARI</option>
<option value="ARANTINA">ARANTINA</option>
<option value="ARAPONGA">ARAPONGA</option>
<option value="ARAPORA">ARAPORA</option>
<option value="ARAPUA">ARAPUA</option>
<option value="ARAUJOS">ARAUJOS</option>
<option value="ARAXA">ARAXA</option>
<option value="ARCEBURGO">ARCEBURGO</option>
<option value="ARCOS">ARCOS</option>
<option value="AREADO">AREADO</option>
<option value="ARGIRITA">ARGIRITA</option>
<option value="ARICANDUVA">ARICANDUVA</option>
<option value="ARINOS">ARINOS</option>
<option value="ASTOLFO DUTRA">ASTOLFO DUTRA</option>
<option value="ATALEIA">ATALEIA</option>
<option value="AUGUSTO DE LIMA">AUGUSTO DE LIMA</option>
<option value="BAEPENDI">BAEPENDI</option>
<option value="BALDIM">BALDIM</option>
<option value="BAMBUI">BAMBUI</option>
<option value="BANDEIRA">BANDEIRA</option>
<option value="BANDEIRA DO SUL">BANDEIRA DO SUL</option>
<option value="BARAO DE COCAIS">BARAO DE COCAIS</option>
<option value="BARAO DO MONTE ALTO">BARAO DO MONTE ALTO</option>
<option value="BARBACENA">BARBACENA</option>
<option value="BARRA LONGA">BARRA LONGA</option>
<option value="BARROSO">BARROSO</option>
<option value="BELA VISTA DE MINAS">BELA VISTA DE MINAS</option>
<option value="BELMIRO BRAGA">BELMIRO BRAGA</option>
<option value="BELO HORIZONTE">BELO HORIZONTE</option>
<option value="BELO ORIENTE">BELO ORIENTE</option>
<option value="BELO VALE">BELO VALE</option>
<option value="BERILO">BERILO</option>
<option value="BERIZAL">BERIZAL</option>
<option value="BERTOPOLIS">BERTOPOLIS</option>
<option value="BETIM">BETIM</option>
<option value="BIAS FORTES">BIAS FORTES</option>
<option value="BICAS">BICAS</option>
<option value="BIQUINHAS">BIQUINHAS</option>
<option value="BOA ESPERANCA">BOA ESPERANCA</option>
<option value="BOCAINA DE MINAS">BOCAINA DE MINAS</option>
<option value="BOCAIUVA">BOCAIUVA</option>
<option value="BOM DESPACHO">BOM DESPACHO</option>
<option value="BOM JARDIM DE MINAS">BOM JARDIM DE MINAS</option>
<option value="BOM JESUS DA PENHA">BOM JESUS DA PENHA</option>
<option value="BOM JESUS DO AMPARO">BOM JESUS DO AMPARO</option>
<option value="BOM JESUS DO GALHO">BOM JESUS DO GALHO</option>
<option value="BOM REPOUSO">BOM REPOUSO</option>
<option value="BOM SUCESSO">BOM SUCESSO</option>
<option value="BONFIM">BONFIM</option>
<option value="BONFINOPOLIS DE MINAS">BONFINOPOLIS DE MINAS</option>
<option value="BONITO DE MINAS">BONITO DE MINAS</option>
<option value="BORDA DA MATA">BORDA DA MATA</option>
<option value="BOTELHOS">BOTELHOS</option>
<option value="BOTUMIRIM">BOTUMIRIM</option>
<option value="BRAS PIRES">BRAS PIRES</option>
<option value="BRASILANDIA DE MINAS">BRASILANDIA DE MINAS</option>
<option value="BRASILIA DE MINAS">BRASILIA DE MINAS</option>
<option value="BRASOPOLIS">BRASOPOLIS</option>
<option value="BRAUNAS">BRAUNAS</option>
<option value="BRUMADINHO">BRUMADINHO</option>
<option value="BUENO BRANDAO">BUENO BRANDAO</option>
<option value="BUENOPOLIS">BUENOPOLIS</option>
<option value="BUGRE">BUGRE</option>
<option value="BURITIS">BURITIS</option>
<option value="BURITIZEIRO">BURITIZEIRO</option>
<option value="CABECEIRA GRANDE">CABECEIRA GRANDE</option>
<option value="CABO VERDE">CABO VERDE</option>
<option value="CACHOEIRA DA PRATA">CACHOEIRA DA PRATA</option>
<option value="CACHOEIRA DE MINAS">CACHOEIRA DE MINAS</option>
<option value="CACHOEIRA DE PAJEU">CACHOEIRA DE PAJEU</option>
<option value="CACHOEIRA DOURADA">CACHOEIRA DOURADA</option>
<option value="CAETANOPOLIS">CAETANOPOLIS</option>
<option value="CAETE">CAETE</option>
<option value="CAIANA">CAIANA</option>
<option value="CAJURI">CAJURI</option>
<option value="CALDAS">CALDAS</option>
<option value="CAMACHO">CAMACHO</option>
<option value="CAMANDUCAIA">CAMANDUCAIA</option>
<option value="CAMBUI">CAMBUI</option>
<option value="CAMBUQUIRA">CAMBUQUIRA</option>
<option value="CAMPANARIO">CAMPANARIO</option>
<option value="CAMPANHA">CAMPANHA</option>
<option value="CAMPESTRE">CAMPESTRE</option>
<option value="CAMPINA VERDE">CAMPINA VERDE</option>
<option value="CAMPO AZUL">CAMPO AZUL</option>
<option value="CAMPO BELO">CAMPO BELO</option>
<option value="CAMPO DO MEIO">CAMPO DO MEIO</option>
<option value="CAMPO FLORIDO">CAMPO FLORIDO</option>
<option value="CAMPOS ALTOS">CAMPOS ALTOS</option>
<option value="CAMPOS GERAIS">CAMPOS GERAIS</option>
<option value="CANA VERDE">CANA VERDE</option>
<option value="CANAA">CANAA</option>
<option value="CANAPOLIS">CANAPOLIS</option>
<option value="CANDEIAS">CANDEIAS</option>
<option value="CANTAGALO">CANTAGALO</option>
<option value="CAPARAO">CAPARAO</option>
<option value="CAPELA NOVA">CAPELA NOVA</option>
<option value="CAPELINHA">CAPELINHA</option>
<option value="CAPETINGA">CAPETINGA</option>
<option value="CAPIM BRANCO">CAPIM BRANCO</option>
<option value="CAPINOPOLIS">CAPINOPOLIS</option>
<option value="CAPITAO ANDRADE">CAPITAO ANDRADE</option>
<option value="CAPITAO ENEIAS">CAPITAO ENEIAS</option>
<option value="CAPITOLIO">CAPITOLIO</option>
<option value="CAPUTIRA">CAPUTIRA</option>
<option value="CARAI">CARAI</option>
<option value="CARANAIBA">CARANAIBA</option>
<option value="CARANDAI">CARANDAI</option>
<option value="CARANGOLA">CARANGOLA</option>
<option value="CARATINGA">CARATINGA</option>
<option value="CARBONITA">CARBONITA</option>
<option value="CAREACU">CAREACU</option>
<option value="CARLOS CHAGAS">CARLOS CHAGAS</option>
<option value="CARMESIA">CARMESIA</option>
<option value="CARMO DA CACHOEIRA">CARMO DA CACHOEIRA</option>
<option value="CARMO DA MATA">CARMO DA MATA</option>
<option value="CARMO DE MINAS">CARMO DE MINAS</option>
<option value="CARMO DO CAJURU">CARMO DO CAJURU</option>
<option value="CARMO DO PARANAIBA">CARMO DO PARANAIBA</option>
<option value="CARMO DO RIO CLARO">CARMO DO RIO CLARO</option>
<option value="CARMOPOLIS DE MINAS">CARMOPOLIS DE MINAS</option>
<option value="CARNEIRINHO">CARNEIRINHO</option>
<option value="CARRANCAS">CARRANCAS</option>
<option value="CARVALHOPOLIS">CARVALHOPOLIS</option>
<option value="CARVALHOS">CARVALHOS</option>
<option value="CASA GRANDE">CASA GRANDE</option>
<option value="CASCALHO RICO">CASCALHO RICO</option>
<option value="CASSIA">CASSIA</option>
<option value="CATAGUASES">CATAGUASES</option>
<option value="CATAS ALTAS">CATAS ALTAS</option>
<option value="CATAS ALTAS DA NORUEGA">CATAS ALTAS DA NORUEGA</option>
<option value="CATUJI">CATUJI</option>
<option value="CATUTI">CATUTI</option>
<option value="CAXAMBU">CAXAMBU</option>
<option value="CEDRO DO ABAETE">CEDRO DO ABAETE</option>
<option value="CENTRAL DE MINAS">CENTRAL DE MINAS</option>
<option value="CENTRALINA">CENTRALINA</option>
<option value="CHACARA">CHACARA</option>
<option value="CHALE">CHALE</option>
<option value="CHAPADA DO NORTE">CHAPADA DO NORTE</option>
<option value="CHAPADA GAUCHA">CHAPADA GAUCHA</option>
<option value="CHIADOR">CHIADOR</option>
<option value="CIPOTANEA">CIPOTANEA</option>
<option value="CLARAVAL">CLARAVAL</option>
<option value="CLARO DOS POCOES">CLARO DOS POCOES</option>
<option value="CLAUDIO">CLAUDIO</option>
<option value="COIMBRA">COIMBRA</option>
<option value="COLUNA">COLUNA</option>
<option value="COMENDADOR GOMES">COMENDADOR GOMES</option>
<option value="COMERCINHO">COMERCINHO</option>
<option value="CONCEICAO DA APARECIDA">CONCEICAO DA APARECIDA</option>
<option value="CONCEICAO DA BARRA DE MINAS">CONCEICAO DA BARRA DE MINAS</option>
<option value="CONCEICAO DAS ALAGOAS">CONCEICAO DAS ALAGOAS</option>
<option value="CONCEICAO DAS PEDRAS">CONCEICAO DAS PEDRAS</option>
<option value="CONCEICAO DE IPANEMA">CONCEICAO DE IPANEMA</option>
<option value="CONCEICAO DO MATO DENTRO">CONCEICAO DO MATO DENTRO</option>
<option value="CONCEICAO DO PARA">CONCEICAO DO PARA</option>
<option value="CONCEICAO DO RIO VERDE">CONCEICAO DO RIO VERDE</option>
<option value="CONCEICAO DOS OUROS">CONCEICAO DOS OUROS</option>
<option value="CONEGO MARINHO">CONEGO MARINHO</option>
<option value="CONFINS">CONFINS</option>
<option value="CONGONHAL">CONGONHAL</option>
<option value="CONGONHAS">CONGONHAS</option>
<option value="CONGONHAS DO NORTE">CONGONHAS DO NORTE</option>
<option value="CONQUISTA">CONQUISTA</option>
<option value="CONSELHEIRO LAFAIETE">CONSELHEIRO LAFAIETE</option>
<option value="CONSELHEIRO PENA">CONSELHEIRO PENA</option>
<option value="CONSOLACAO">CONSOLACAO</option>
<option value="CONTAGEM">CONTAGEM</option>
<option value="COQUEIRAL">COQUEIRAL</option>
<option value="CORACAO DE JESUS">CORACAO DE JESUS</option>
<option value="CORDISBURGO">CORDISBURGO</option>
<option value="CORDISLANDIA">CORDISLANDIA</option>
<option value="CORINTO">CORINTO</option>
<option value="COROACI">COROACI</option>
<option value="COROMANDEL">COROMANDEL</option>
<option value="CORONEL FABRICIANO">CORONEL FABRICIANO</option>
<option value="CORONEL MURTA">CORONEL MURTA</option>
<option value="CORONEL PACHECO">CORONEL PACHECO</option>
<option value="CORONEL XAVIER CHAVES">CORONEL XAVIER CHAVES</option>
<option value="CORREGO DANTA">CORREGO DANTA</option>
<option value="CORREGO DO BOM JESUS">CORREGO DO BOM JESUS</option>
<option value="CORREGO FUNDO">CORREGO FUNDO</option>
<option value="CORREGO NOVO">CORREGO NOVO</option>
<option value="COUTO DE MAG.DE MINAS">COUTO DE MAG.DE MINAS</option>
<option value="CRISOLITA">CRISOLITA</option>
<option value="CRISTAIS">CRISTAIS</option>
<option value="CRISTALIA">CRISTALIA</option>
<option value="CRISTIANO OTONI">CRISTIANO OTONI</option>
<option value="CRISTINA">CRISTINA</option>
<option value="CRUCILANDIA">CRUCILANDIA</option>
<option value="CRUZEIRO DA FORTALEZA">CRUZEIRO DA FORTALEZA</option>
<option value="CRUZILIA">CRUZILIA</option>
<option value="CUPARAQUE">CUPARAQUE</option>
<option value="CURRAL DE DENTRO">CURRAL DE DENTRO</option>
<option value="CURVELO">CURVELO</option>
<option value="DATAS">DATAS</option>
<option value="DELFIM MOREIRA">DELFIM MOREIRA</option>
<option value="DELFINOPOLIS">DELFINOPOLIS</option>
<option value="DELTA">DELTA</option>
<option value="DESCOBERTO">DESCOBERTO</option>
<option value="DESTERRO DE ENTRE-RIOS">DESTERRO DE ENTRE-RIOS</option>
<option value="DESTERRO DO MELO">DESTERRO DO MELO</option>
<option value="DIAMANTINA">DIAMANTINA</option>
<option value="DIOGO DE VASCONCELOS">DIOGO DE VASCONCELOS</option>
<option value="DIONISIO">DIONISIO</option>
<option value="DIVINESIA">DIVINESIA</option>
<option value="DIVINO">DIVINO</option>
<option value="DIVINO DAS LARANJEIRAS">DIVINO DAS LARANJEIRAS</option>
<option value="DIVINOLANDIA DE MINAS">DIVINOLANDIA DE MINAS</option>
<option value="DIVINOPOLIS">DIVINOPOLIS</option>
<option value="DIVISA ALEGRE">DIVISA ALEGRE</option>
<option value="DIVISA NOVA">DIVISA NOVA</option>
<option value="DIVISOPOLIS">DIVISOPOLIS</option>
<option value="DOM BOSCO">DOM BOSCO</option>
<option value="DOM CAVATI">DOM CAVATI</option>
<option value="DOM JOAQUIM">DOM JOAQUIM</option>
<option value="DOM SILVERIO">DOM SILVERIO</option>
<option value="DOM VICOSO">DOM VICOSO</option>
<option value="DONA EUSEBIA">DONA EUSEBIA</option>
<option value="DORES DE CAMPOS">DORES DE CAMPOS</option>
<option value="DORES DE GUANHAES">DORES DE GUANHAES</option>
<option value="DORES DO INDAIA">DORES DO INDAIA</option>
<option value="DORES DO TURVO">DORES DO TURVO</option>
<option value="DORESOPOLIS">DORESOPOLIS</option>
<option value="DOURADOQUARA">DOURADOQUARA</option>
<option value="DURANDE">DURANDE</option>
<option value="ELOI MENDES">ELOI MENDES</option>
<option value="ENGENHEIRO CALDAS">ENGENHEIRO CALDAS</option>
<option value="ENGENHEIRO NAVARRO">ENGENHEIRO NAVARRO</option>
<option value="ENTRE-FOLHAS">ENTRE-FOLHAS</option>
<option value="ENTRE-RIOS DE MINAS">ENTRE-RIOS DE MINAS</option>
<option value="ERVALIA">ERVALIA</option>
<option value="ESMERALDAS">ESMERALDAS</option>
<option value="ESPERA FELIZ">ESPERA FELIZ</option>
<option value="ESPINOSA">ESPINOSA</option>
<option value="ESPIRITO SANTO DO DOURADO">ESPIRITO SANTO DO DOURADO</option>
<option value="ESTIVA">ESTIVA</option>
<option value="ESTRELA DO INDAIA">ESTRELA DO INDAIA</option>
<option value="ESTRELA DO SUL">ESTRELA DO SUL</option>
<option value="ESTRELA-DALVA">ESTRELA-DALVA</option>
<option value="EUGENOPOLIS">EUGENOPOLIS</option>
<option value="EWBANK DA CAMARA">EWBANK DA CAMARA</option>
<option value="EXTREMA">EXTREMA</option>
<option value="FAMA">FAMA</option>
<option value="FARIA LEMOS">FARIA LEMOS</option>
<option value="FELICIO DOS SANTOS">FELICIO DOS SANTOS</option>
<option value="FELISBURGO">FELISBURGO</option>
<option value="FELIXLANDIA">FELIXLANDIA</option>
<option value="FERNANDES TOURINHO">FERNANDES TOURINHO</option>
<option value="FERROS">FERROS</option>
<option value="FERVEDOURO">FERVEDOURO</option>
<option value="FLORESTAL">FLORESTAL</option>
<option value="FORMIGA">FORMIGA</option>
<option value="FORMOSO">FORMOSO</option>
<option value="FORTALEZA DE MINAS">FORTALEZA DE MINAS</option>
<option value="FORTUNA DE MINAS">FORTUNA DE MINAS</option>
<option value="FRANCISCO BADARO">FRANCISCO BADARO</option>
<option value="FRANCISCO DUMONT">FRANCISCO DUMONT</option>
<option value="FRANCISCO SA">FRANCISCO SA</option>
<option value="FRANCISCOPOLIS">FRANCISCOPOLIS</option>
<option value="FREI GASPAR">FREI GASPAR</option>
<option value="FREI INOCENCIO">FREI INOCENCIO</option>
<option value="FREI LAGONEGRO">FREI LAGONEGRO</option>
<option value="FRONTEIRA">FRONTEIRA</option>
<option value="FRONTEIRA DOS VALES">FRONTEIRA DOS VALES</option>
<option value="FRUTA DE LEITE">FRUTA DE LEITE</option>
<option value="FRUTAL">FRUTAL</option>
<option value="FUNILANDIA">FUNILANDIA</option>
<option value="GALILEIA">GALILEIA</option>
<option value="GAMELEIRAS">GAMELEIRAS</option>
<option value="GLAUCILANDIA">GLAUCILANDIA</option>
<option value="GOIABEIRA">GOIABEIRA</option>
<option value="GOIANA">GOIANA</option>
<option value="GONCALVES">GONCALVES</option>
<option value="GONZAGA">GONZAGA</option>
<option value="GOUVEIA">GOUVEIA</option>
<option value="GOVERNADOR VALADARES">GOVERNADOR VALADARES</option>
<option value="GRAO-MOGOL">GRAO-MOGOL</option>
<option value="GRUPIARA">GRUPIARA</option>
<option value="GUANHAES">GUANHAES</option>
<option value="GUAPE">GUAPE</option>
<option value="GUARACIABA">GUARACIABA</option>
<option value="GUARACIAMA">GUARACIAMA</option>
<option value="GUARANESIA">GUARANESIA</option>
<option value="GUARANI">GUARANI</option>
<option value="GUARARA">GUARARA</option>
<option value="GUARDA-MOR">GUARDA-MOR</option>
<option value="GUAXUPE">GUAXUPE</option>
<option value="GUIDOVAL">GUIDOVAL</option>
<option value="GUIMARANIA">GUIMARANIA</option>
<option value="GUIRICEMA">GUIRICEMA</option>
<option value="GURINHATA">GURINHATA</option>
<option value="HELIODORA">HELIODORA</option>
<option value="IAPU">IAPU</option>
<option value="IBERTIOGA">IBERTIOGA</option>
<option value="IBIA">IBIA</option>
<option value="IBIAI">IBIAI</option>
<option value="IBIRACATU">IBIRACATU</option>
<option value="IBIRACI">IBIRACI</option>
<option value="IBIRITE">IBIRITE</option>
<option value="IBITIURA DE MINAS">IBITIURA DE MINAS</option>
<option value="IBITURUNA">IBITURUNA</option>
<option value="ICARAI DE MINAS">ICARAI DE MINAS</option>
<option value="IGARAPE">IGARAPE</option>
<option value="IGARATINGA">IGARATINGA</option>
<option value="IGUATAMA">IGUATAMA</option>
<option value="IJACI">IJACI</option>
<option value="ILICINEA">ILICINEA</option>
<option value="IMBE DE MINAS">IMBE DE MINAS</option>
<option value="INCONFIDENTES">INCONFIDENTES</option>
<option value="INDAIABIRA">INDAIABIRA</option>
<option value="INDIANOPOLIS">INDIANOPOLIS</option>
<option value="INGAI">INGAI</option>
<option value="INHAPIM">INHAPIM</option>
<option value="INHAUMA">INHAUMA</option>
<option value="INIMUTABA">INIMUTABA</option>
<option value="IPABA">IPABA</option>
<option value="IPANEMA">IPANEMA</option>
<option value="IPATINGA">IPATINGA</option>
<option value="IPIACU">IPIACU</option>
<option value="IPUIUNA">IPUIUNA</option>
<option value="IRAI DE MINAS">IRAI DE MINAS</option>
<option value="ITABIRA">ITABIRA</option>
<option value="ITABIRINHA">ITABIRINHA</option>
<option value="ITABIRITO">ITABIRITO</option>
<option value="ITACAMBIRA">ITACAMBIRA</option>
<option value="ITACARAMBI">ITACARAMBI</option>
<option value="ITAGUARA">ITAGUARA</option>
<option value="ITAIPE">ITAIPE</option>
<option value="ITAJUBA">ITAJUBA</option>
<option value="ITAMARANDIBA">ITAMARANDIBA</option>
<option value="ITAMARATI DE MINAS">ITAMARATI DE MINAS</option>
<option value="ITAMBACURI">ITAMBACURI</option>
<option value="ITAMBE DO MATO DENTRO">ITAMBE DO MATO DENTRO</option>
<option value="ITAMOGI">ITAMOGI</option>
<option value="ITAMONTE">ITAMONTE</option>
<option value="ITANHANDU">ITANHANDU</option>
<option value="ITANHOMI">ITANHOMI</option>
<option value="ITAOBIM">ITAOBIM</option>
<option value="ITAPAGIPE">ITAPAGIPE</option>
<option value="ITAPECERICA">ITAPECERICA</option>
<option value="ITAPEVA">ITAPEVA</option>
<option value="ITATIAIUCU">ITATIAIUCU</option>
<option value="ITAU DE MINAS">ITAU DE MINAS</option>
<option value="ITAUNA">ITAUNA</option>
<option value="ITAVERAVA">ITAVERAVA</option>
<option value="ITINGA">ITINGA</option>
<option value="ITUETA">ITUETA</option>
<option value="ITUIUTABA">ITUIUTABA</option>
<option value="ITUMIRIM">ITUMIRIM</option>
<option value="ITURAMA">ITURAMA</option>
<option value="ITUTINGA">ITUTINGA</option>
<option value="JABOTICATUBAS">JABOTICATUBAS</option>
<option value="JACINTO">JACINTO</option>
<option value="JACUI">JACUI</option>
<option value="JACUTINGA">JACUTINGA</option>
<option value="JAGUARACU">JAGUARACU</option>
<option value="JAIBA">JAIBA</option>
<option value="JAMPRUCA">JAMPRUCA</option>
<option value="JANAUBA">JANAUBA</option>
<option value="JANUARIA">JANUARIA</option>
<option value="JAPARAIBA">JAPARAIBA</option>
<option value="JAPONVAR">JAPONVAR</option>
<option value="JECEABA">JECEABA</option>
<option value="JENIPAPO DE MINAS">JENIPAPO DE MINAS</option>
<option value="JEQUERI">JEQUERI</option>
<option value="JEQUITAI">JEQUITAI</option>
<option value="JEQUITIBA">JEQUITIBA</option>
<option value="JEQUITINHONHA">JEQUITINHONHA</option>
<option value="JESUANIA">JESUANIA</option>
<option value="JOAIMA">JOAIMA</option>
<option value="JOANESIA">JOANESIA</option>
<option value="JOAO MONLEVADE">JOAO MONLEVADE</option>
<option value="JOAO PINHEIRO">JOAO PINHEIRO</option>
<option value="JOAQUIM FELICIO">JOAQUIM FELICIO</option>
<option value="JORDANIA">JORDANIA</option>
<option value="JOSE GONCALVES DE MINAS">JOSE GONCALVES DE MINAS</option>
<option value="JOSE RAYDAN">JOSE RAYDAN</option>
<option value="JOSENOPOLIS">JOSENOPOLIS</option>
<option value="JUATUBA">JUATUBA</option>
<option value="JUIZ DE FORA">JUIZ DE FORA</option>
<option value="JURAMENTO">JURAMENTO</option>
<option value="JURUAIA">JURUAIA</option>
<option value="JUVENILIA">JUVENILIA</option>
<option value="LADAINHA">LADAINHA</option>
<option value="LAGAMAR">LAGAMAR</option>
<option value="LAGOA DA PRATA">LAGOA DA PRATA</option>
<option value="LAGOA DOS PATOS">LAGOA DOS PATOS</option>
<option value="LAGOA DOURADA">LAGOA DOURADA</option>
<option value="LAGOA FORMOSA">LAGOA FORMOSA</option>
<option value="LAGOA GRANDE">LAGOA GRANDE</option>
<option value="LAGOA SANTA">LAGOA SANTA</option>
<option value="LAJINHA">LAJINHA</option>
<option value="LAMBARI">LAMBARI</option>
<option value="LAMIM">LAMIM</option>
<option value="LARANJAL">LARANJAL</option>
<option value="LASSANCE">LASSANCE</option>
<option value="LAVRAS">LAVRAS</option>
<option value="LEANDRO FERREIRA">LEANDRO FERREIRA</option>
<option value="LEME DO PRADO">LEME DO PRADO</option>
<option value="LEOPOLDINA">LEOPOLDINA</option>
<option value="LIBERDADE">LIBERDADE</option>
<option value="LIMA DUARTE">LIMA DUARTE</option>
<option value="LIMEIRA DO OESTE">LIMEIRA DO OESTE</option>
<option value="LONTRA">LONTRA</option>
<option value="LUISBURGO">LUISBURGO</option>
<option value="LUISLANDIA">LUISLANDIA</option>
<option value="LUMINARIAS">LUMINARIAS</option>
<option value="LUZ">LUZ</option>
<option value="MACHACALIS">MACHACALIS</option>
<option value="MACHADO">MACHADO</option>
<option value="MADRE DE DEUS DE MINAS">MADRE DE DEUS DE MINAS</option>
<option value="MALACACHETA">MALACACHETA</option>
<option value="MAMONAS">MAMONAS</option>
<option value="MANGA">MANGA</option>
<option value="MANHUACU">MANHUACU</option>
<option value="MANHUMIRIM">MANHUMIRIM</option>
<option value="MANTENA">MANTENA</option>
<option value="MAR DE ESPANHA">MAR DE ESPANHA</option>
<option value="MARAVILHAS">MARAVILHAS</option>
<option value="MARIA DA FE">MARIA DA FE</option>
<option value="MARIANA">MARIANA</option>
<option value="MARILAC">MARILAC</option>
<option value="MARIO CAMPOS">MARIO CAMPOS</option>
<option value="MARIPA DE MINAS">MARIPA DE MINAS</option>
<option value="MARLIERIA">MARLIERIA</option>
<option value="MARMELOPOLIS">MARMELOPOLIS</option>
<option value="MARTINHO CAMPOS">MARTINHO CAMPOS</option>
<option value="MARTINS SOARES">MARTINS SOARES</option>
<option value="MATA VERDE">MATA VERDE</option>
<option value="MATERLANDIA">MATERLANDIA</option>
<option value="MATEUS LEME">MATEUS LEME</option>
<option value="MATHIAS LOBATO">MATHIAS LOBATO</option>
<option value="MATIAS BARBOSA">MATIAS BARBOSA</option>
<option value="MATIAS CARDOSO">MATIAS CARDOSO</option>
<option value="MATIPO">MATIPO</option>
<option value="MATO VERDE">MATO VERDE</option>
<option value="MATOZINHOS">MATOZINHOS</option>
<option value="MATUTINA">MATUTINA</option>
<option value="MEDEIROS">MEDEIROS</option>
<option value="MEDINA">MEDINA</option>
<option value="MENDES PIMENTEL">MENDES PIMENTEL</option>
<option value="MERCES">MERCES</option>
<option value="MESQUITA">MESQUITA</option>
<option value="MINAS NOVAS">MINAS NOVAS</option>
<option value="MINDURI">MINDURI</option>
<option value="MIRABELA">MIRABELA</option>
<option value="MIRADOURO">MIRADOURO</option>
<option value="MIRAI">MIRAI</option>
<option value="MIRAVANIA">MIRAVANIA</option>
<option value="MOEDA">MOEDA</option>
<option value="MOEMA">MOEMA</option>
<option value="MONJOLOS">MONJOLOS</option>
<option value="MONSENHOR PAULO">MONSENHOR PAULO</option>
<option value="MONTALVANIA">MONTALVANIA</option>
<option value="MONTE ALEGRE DE MINAS">MONTE ALEGRE DE MINAS</option>
<option value="MONTE AZUL">MONTE AZUL</option>
<option value="MONTE BELO">MONTE BELO</option>
<option value="MONTE CARMELO">MONTE CARMELO</option>
<option value="MONTE FORMOSO">MONTE FORMOSO</option>
<option value="MONTE SANTO DE MINAS">MONTE SANTO DE MINAS</option>
<option value="MONTE SIAO">MONTE SIAO</option>
<option value="MONTES CLAROS">MONTES CLAROS</option>
<option value="MONTEZUMA">MONTEZUMA</option>
<option value="MORADA NOVA DE MINAS">MORADA NOVA DE MINAS</option>
<option value="MORRO DA GARCA">MORRO DA GARCA</option>
<option value="MORRO DO PILAR">MORRO DO PILAR</option>
<option value="MUNHOZ">MUNHOZ</option>
<option value="MURIAE">MURIAE</option>
<option value="MUTUM">MUTUM</option>
<option value="MUZAMBINHO">MUZAMBINHO</option>
<option value="NACIP RAYDAN">NACIP RAYDAN</option>
<option value="NANUQUE">NANUQUE</option>
<option value="NAQUE">NAQUE</option>
<option value="NATALANDIA">NATALANDIA</option>
<option value="NATERCIA">NATERCIA</option>
<option value="NAZARENO">NAZARENO</option>
<option value="NEPOMUCENO">NEPOMUCENO</option>
<option value="NINHEIRA">NINHEIRA</option>
<option value="NOVA BELEM">NOVA BELEM</option>
<option value="NOVA ERA">NOVA ERA</option>
<option value="NOVA LIMA">NOVA LIMA</option>
<option value="NOVA MODICA">NOVA MODICA</option>
<option value="NOVA PONTE">NOVA PONTE</option>
<option value="NOVA PORTEIRINHA">NOVA PORTEIRINHA</option>
<option value="NOVA RESENDE">NOVA RESENDE</option>
<option value="NOVA SERRANA">NOVA SERRANA</option>
<option value="NOVA UNIAO">NOVA UNIAO</option>
<option value="NOVO CRUZEIRO">NOVO CRUZEIRO</option>
<option value="NOVO ORIENTE DE MINAS">NOVO ORIENTE DE MINAS</option>
<option value="NOVORIZONTE">NOVORIZONTE</option>
<option value="OLARIA">OLARIA</option>
<option value="OLHOS-D'AGUA">OLHOS-D'AGUA</option>
<option value="OLIMPIO NORONHA">OLIMPIO NORONHA</option>
<option value="OLIVEIRA">OLIVEIRA</option>
<option value="OLIVEIRA FORTES">OLIVEIRA FORTES</option>
<option value="ONCA DO PITANGUI">ONCA DO PITANGUI</option>
<option value="ORATORIOS">ORATORIOS</option>
<option value="ORIZANIA">ORIZANIA</option>
<option value="OURO BRANCO">OURO BRANCO</option>
<option value="OURO FINO">OURO FINO</option>
<option value="OURO PRETO">OURO PRETO</option>
<option value="OURO VERDE DE MINAS">OURO VERDE DE MINAS</option>
<option value="PADRE CARVALHO">PADRE CARVALHO</option>
<option value="PADRE PARAISO">PADRE PARAISO</option>
<option value="PAI PEDRO">PAI PEDRO</option>
<option value="PAINEIRAS">PAINEIRAS</option>
<option value="PAINS">PAINS</option>
<option value="PAIVA">PAIVA</option>
<option value="PALMA">PALMA</option>
<option value="PALMOPOLIS">PALMOPOLIS</option>
<option value="PAPAGAIOS">PAPAGAIOS</option>
<option value="PARA DE MINAS">PARA DE MINAS</option>
<option value="PARACATU">PARACATU</option>
<option value="PARAGUACU">PARAGUACU</option>
<option value="PARAISOPOLIS">PARAISOPOLIS</option>
<option value="PARAOPEBA">PARAOPEBA</option>
<option value="PASSA QUATRO">PASSA QUATRO</option>
<option value="PASSA TEMPO">PASSA TEMPO</option>
<option value="PASSA VINTE">PASSA VINTE</option>
<option value="PASSABEM">PASSABEM</option>
<option value="PASSOS">PASSOS</option>
<option value="PATIS">PATIS</option>
<option value="PATOS DE MINAS">PATOS DE MINAS</option>
<option value="PATROCINIO">PATROCINIO</option>
<option value="PATROCINIO DO MURIAE">PATROCINIO DO MURIAE</option>
<option value="PAULA CANDIDO">PAULA CANDIDO</option>
<option value="PAULISTAS">PAULISTAS</option>
<option value="PAVAO">PAVAO</option>
<option value="PECANHA">PECANHA</option>
<option value="PEDRA AZUL">PEDRA AZUL</option>
<option value="PEDRA BONITA">PEDRA BONITA</option>
<option value="PEDRA DO ANTA">PEDRA DO ANTA</option>
<option value="PEDRA DO INDAIA">PEDRA DO INDAIA</option>
<option value="PEDRA DOURADA">PEDRA DOURADA</option>
<option value="PEDRALVA">PEDRALVA</option>
<option value="PEDRAS DE MARIA DA CRUZ">PEDRAS DE MARIA DA CRUZ</option>
<option value="PEDRINOPOLIS">PEDRINOPOLIS</option>
<option value="PEDRO LEOPOLDO">PEDRO LEOPOLDO</option>
<option value="PEDRO TEIXEIRA">PEDRO TEIXEIRA</option>
<option value="PEQUERI">PEQUERI</option>
<option value="PEQUI">PEQUI</option>
<option value="PERDIGAO">PERDIGAO</option>
<option value="PERDIZES">PERDIZES</option>
<option value="PERDOES">PERDOES</option>
<option value="PERIQUITO">PERIQUITO</option>
<option value="PESCADOR">PESCADOR</option>
<option value="PIAU">PIAU</option>
<option value="PIEDADE DE CARATINGA">PIEDADE DE CARATINGA</option>
<option value="PIEDADE DE PONTE NOVA">PIEDADE DE PONTE NOVA</option>
<option value="PIEDADE DO RIO GRANDE">PIEDADE DO RIO GRANDE</option>
<option value="PIEDADE DOS GERAIS">PIEDADE DOS GERAIS</option>
<option value="PIMENTA">PIMENTA</option>
<option value="PINGO D'AGUA">PINGO D'AGUA</option>
<option value="PINTOPOLIS">PINTOPOLIS</option>
<option value="PIRACEMA">PIRACEMA</option>
<option value="PIRAJUBA">PIRAJUBA</option>
<option value="PIRANGA">PIRANGA</option>
<option value="PIRANGUCU">PIRANGUCU</option>
<option value="PIRANGUINHO">PIRANGUINHO</option>
<option value="PIRAPETINGA">PIRAPETINGA</option>
<option value="PIRAPORA">PIRAPORA</option>
<option value="PIRAUBA">PIRAUBA</option>
<option value="PITANGUI">PITANGUI</option>
<option value="PIUMHI">PIUMHI</option>
<option value="PLANURA">PLANURA</option>
<option value="POCO FUNDO">POCO FUNDO</option>
<option value="POCOS DE CALDAS">POCOS DE CALDAS</option>
<option value="POCRANE">POCRANE</option>
<option value="POMPEU">POMPEU</option>
<option value="PONTE NOVA">PONTE NOVA</option>
<option value="PONTO CHIQUE">PONTO CHIQUE</option>
<option value="PONTO DOS VOLANTES">PONTO DOS VOLANTES</option>
<option value="PORTEIRINHA">PORTEIRINHA</option>
<option value="PORTO FIRME">PORTO FIRME</option>
<option value="POTE">POTE</option>
<option value="POUSO ALEGRE">POUSO ALEGRE</option>
<option value="POUSO ALTO">POUSO ALTO</option>
<option value="PRADOS">PRADOS</option>
<option value="PRATA">PRATA</option>
<option value="PRATAPOLIS">PRATAPOLIS</option>
<option value="PRATINHA">PRATINHA</option>
<option value="PRESIDENTE BERNARDES">PRESIDENTE BERNARDES</option>
<option value="PRESIDENTE JUSCELINO">PRESIDENTE JUSCELINO</option>
<option value="PRESIDENTE KUBITSCHEK">PRESIDENTE KUBITSCHEK</option>
<option value="PRESIDENTE OLEGARIO">PRESIDENTE OLEGARIO</option>
<option value="PRUDENTE DE MORAIS">PRUDENTE DE MORAIS</option>
<option value="QUARTEL GERAL">QUARTEL GERAL</option>
<option value="QUELUZITO">QUELUZITO</option>
<option value="RAPOSOS">RAPOSOS</option>
<option value="RAUL SOARES">RAUL SOARES</option>
<option value="RECREIO">RECREIO</option>
<option value="REDUTO">REDUTO</option>
<option value="RESENDE COSTA">RESENDE COSTA</option>
<option value="RESPLENDOR">RESPLENDOR</option>
<option value="RESSAQUINHA">RESSAQUINHA</option>
<option value="RIACHINHO">RIACHINHO</option>
<option value="RIACHO DOS MACHADOS">RIACHO DOS MACHADOS</option>
<option value="RIBEIRAO DAS NEVES">RIBEIRAO DAS NEVES</option>
<option value="RIBEIRAO VERMELHO">RIBEIRAO VERMELHO</option>
<option value="RIO ACIMA">RIO ACIMA</option>
<option value="RIO CASCA">RIO CASCA</option>
<option value="RIO DO PRADO">RIO DO PRADO</option>
<option value="RIO DOCE">RIO DOCE</option>
<option value="RIO ESPERA">RIO ESPERA</option>
<option value="RIO MANSO">RIO MANSO</option>
<option value="RIO NOVO">RIO NOVO</option>
<option value="RIO PARANAIBA">RIO PARANAIBA</option>
<option value="RIO PARDO DE MINAS">RIO PARDO DE MINAS</option>
<option value="RIO PIRACICABA">RIO PIRACICABA</option>
<option value="RIO POMBA">RIO POMBA</option>
<option value="RIO PRETO">RIO PRETO</option>
<option value="RIO VERMELHO">RIO VERMELHO</option>
<option value="RITAPOLIS">RITAPOLIS</option>
<option value="ROCHEDO DE MINAS">ROCHEDO DE MINAS</option>
<option value="RODEIRO">RODEIRO</option>
<option value="ROMARIA">ROMARIA</option>
<option value="ROSARIO DA LIMEIRA">ROSARIO DA LIMEIRA</option>
<option value="RUBELITA">RUBELITA</option>
<option value="RUBIM">RUBIM</option>
<option value="SABARA">SABARA</option>
<option value="SABINOPOLIS">SABINOPOLIS</option>
<option value="SACRAMENTO">SACRAMENTO</option>
<option value="SALINAS">SALINAS</option>
<option value="SALTO DA DIVISA">SALTO DA DIVISA</option>
<option value="SANTA BARBARA">SANTA BARBARA</option>
<option value="SANTA BARBARA DO LESTE">SANTA BARBARA DO LESTE</option>
<option value="SANTA BARBARA DO MONTE VERDE">SANTA BARBARA DO MONTE VERDE</option>
<option value="SANTA BARBARA DO TUGURIO">SANTA BARBARA DO TUGURIO</option>
<option value="SANTA CRUZ DE MINAS">SANTA CRUZ DE MINAS</option>
<option value="SANTA CRUZ DE SALINAS">SANTA CRUZ DE SALINAS</option>
<option value="SANTA CRUZ DO ESCALVADO">SANTA CRUZ DO ESCALVADO</option>
<option value="SANTA EFIGENIA DE MINAS">SANTA EFIGENIA DE MINAS</option>
<option value="SANTA FE DE MINAS">SANTA FE DE MINAS</option>
<option value="SANTA HELENA DE MINAS">SANTA HELENA DE MINAS</option>
<option value="SANTA JULIANA">SANTA JULIANA</option>
<option value="SANTA LUZIA">SANTA LUZIA</option>
<option value="SANTA MARGARIDA">SANTA MARGARIDA</option>
<option value="SANTA MARIA DE ITABIRA">SANTA MARIA DE ITABIRA</option>
<option value="SANTA MARIA DO SALTO">SANTA MARIA DO SALTO</option>
<option value="SANTA MARIA DO SUACUI">SANTA MARIA DO SUACUI</option>
<option value="SANTA RITA DE CALDAS">SANTA RITA DE CALDAS</option>
<option value="SANTA RITA DE JACUTINGA">SANTA RITA DE JACUTINGA</option>
<option value="SANTA RITA DE MINAS">SANTA RITA DE MINAS</option>
<option value="SANTA RITA DO IBITIPOCA">SANTA RITA DO IBITIPOCA</option>
<option value="SANTA RITA DO ITUETO">SANTA RITA DO ITUETO</option>
<option value="SANTA RITA DO SAPUCAI">SANTA RITA DO SAPUCAI</option>
<option value="SANTA ROSA DA SERRA">SANTA ROSA DA SERRA</option>
<option value="SANTA VITORIA">SANTA VITORIA</option>
<option value="SANTANA DA VARGEM">SANTANA DA VARGEM</option>
<option value="SANTANA DE CATAGUASES">SANTANA DE CATAGUASES</option>
<option value="SANTANA DE PIRAPAMA">SANTANA DE PIRAPAMA</option>
<option value="SANTANA DO DESERTO">SANTANA DO DESERTO</option>
<option value="SANTANA DO GARAMBEU">SANTANA DO GARAMBEU</option>
<option value="SANTANA DO JACARE">SANTANA DO JACARE</option>
<option value="SANTANA DO MANHUACU">SANTANA DO MANHUACU</option>
<option value="SANTANA DO PARAISO">SANTANA DO PARAISO</option>
<option value="SANTANA DO RIACHO">SANTANA DO RIACHO</option>
<option value="SANTANA DOS MONTES">SANTANA DOS MONTES</option>
<option value="SANTO ANT DO AMPARO">SANTO ANT DO AMPARO</option>
<option value="SANTO ANTONIO DO AVENTUREIRO">SANTO ANTONIO DO AVENTUREIRO</option>
<option value="SANTO ANTONIO DO GRAMA">SANTO ANTONIO DO GRAMA</option>
<option value="SANTO ANTONIO DO ITAMBE">SANTO ANTONIO DO ITAMBE</option>
<option value="SANTO ANTONIO DO JACINTO">SANTO ANTONIO DO JACINTO</option>
<option value="SANTO ANTONIO DO MONTE">SANTO ANTONIO DO MONTE</option>
<option value="SANTO ANTONIO DO RETIRO">SANTO ANTONIO DO RETIRO</option>
<option value="SANTO ANTONIO DO RIO ABAIXO">SANTO ANTONIO DO RIO ABAIXO</option>
<option value="SANTO HIPOLITO">SANTO HIPOLITO</option>
<option value="SANTOS DUMONT">SANTOS DUMONT</option>
<option value="SAO BENTO ABADE">SAO BENTO ABADE</option>
<option value="SAO BRAS DO SUACUI">SAO BRAS DO SUACUI</option>
<option value="SAO DOMINGOS DAS DORES">SAO DOMINGOS DAS DORES</option>
<option value="SAO DOMINGOS DO PRATA">SAO DOMINGOS DO PRATA</option>
<option value="SAO FELIX DE MINAS">SAO FELIX DE MINAS</option>
<option value="SAO FRANCISCO">SAO FRANCISCO</option>
<option value="SAO FRANCISCO DE PAULA">SAO FRANCISCO DE PAULA</option>
<option value="SAO FRANCISCO DE SALES">SAO FRANCISCO DE SALES</option>
<option value="SAO FRANCISCO DO GLORIA">SAO FRANCISCO DO GLORIA</option>
<option value="SAO GERALDO">SAO GERALDO</option>
<option value="SAO GERALDO DA PIEDADE">SAO GERALDO DA PIEDADE</option>
<option value="SAO GERALDO DO BAIXIO">SAO GERALDO DO BAIXIO</option>
<option value="SAO GONCALO DO ABAETE">SAO GONCALO DO ABAETE</option>
<option value="SAO GONCALO DO PARA">SAO GONCALO DO PARA</option>
<option value="SAO GONCALO DO RIO ABAIXO">SAO GONCALO DO RIO ABAIXO</option>
<option value="SAO GONCALO DO RIO PRETO">SAO GONCALO DO RIO PRETO</option>
<option value="SAO GONCALO DO SAPUCAI">SAO GONCALO DO SAPUCAI</option>
<option value="SAO GOTARDO">SAO GOTARDO</option>
<option value="SAO JOAO BATISTA GLORIA">SAO JOAO BATISTA GLORIA</option>
<option value="SAO JOAO DA LAGOA">SAO JOAO DA LAGOA</option>
<option value="SAO JOAO DA MATA">SAO JOAO DA MATA</option>
<option value="SAO JOAO DA PONTE">SAO JOAO DA PONTE</option>
<option value="SAO JOAO DAS MISSOES">SAO JOAO DAS MISSOES</option>
<option value="SAO JOAO DEL REI">SAO JOAO DEL REI</option>
<option value="SAO JOAO DO MANHUACU">SAO JOAO DO MANHUACU</option>
<option value="SAO JOAO DO MANTENINHA">SAO JOAO DO MANTENINHA</option>
<option value="SAO JOAO DO ORIENTE">SAO JOAO DO ORIENTE</option>
<option value="SAO JOAO DO PACUI">SAO JOAO DO PACUI</option>
<option value="SAO JOAO DO PARAISO">SAO JOAO DO PARAISO</option>
<option value="SAO JOAO EVANGELISTA">SAO JOAO EVANGELISTA</option>
<option value="SAO JOAO NEPOMUCENO">SAO JOAO NEPOMUCENO</option>
<option value="SAO JOAQUIM DE BICAS">SAO JOAQUIM DE BICAS</option>
<option value="SAO JOSE DA BARRA">SAO JOSE DA BARRA</option>
<option value="SAO JOSE DA LAPA">SAO JOSE DA LAPA</option>
<option value="SAO JOSE DA SAFIRA">SAO JOSE DA SAFIRA</option>
<option value="SAO JOSE DA VARGINHA">SAO JOSE DA VARGINHA</option>
<option value="SAO JOSE DO ALEGRE">SAO JOSE DO ALEGRE</option>
<option value="SAO JOSE DO DIVINO">SAO JOSE DO DIVINO</option>
<option value="SAO JOSE DO GOIABAL">SAO JOSE DO GOIABAL</option>
<option value="SAO JOSE DO JACURI">SAO JOSE DO JACURI</option>
<option value="SAO JOSE DO MANTIMENTO">SAO JOSE DO MANTIMENTO</option>
<option value="SAO LOURENCO">SAO LOURENCO</option>
<option value="SAO MIGUEL DO ANTA">SAO MIGUEL DO ANTA</option>
<option value="SAO PEDRO DA UNIAO">SAO PEDRO DA UNIAO</option>
<option value="SAO PEDRO DO SUACUI">SAO PEDRO DO SUACUI</option>
<option value="SAO PEDRO DOS FERROS">SAO PEDRO DOS FERROS</option>
<option value="SAO ROMAO">SAO ROMAO</option>
<option value="SAO ROQUE DE MINAS">SAO ROQUE DE MINAS</option>
<option value="SAO SEB.DO RIO PRETO">SAO SEB.DO RIO PRETO</option>
<option value="SAO SEBAST. DO MARANHAO">SAO SEBAST. DO MARANHAO</option>
<option value="SAO SEBASTIAO DA BELA VISTA">SAO SEBASTIAO DA BELA VISTA</option>
<option value="SAO SEBASTIAO DA VARGEM ALEGRE">SAO SEBASTIAO DA VARGEM ALEGRE</option>
<option value="SAO SEBASTIAO DO ANTA">SAO SEBASTIAO DO ANTA</option>
<option value="SAO SEBASTIAO DO OESTE">SAO SEBASTIAO DO OESTE</option>
<option value="SAO SEBASTIAO DO RIO VERDE">SAO SEBASTIAO DO RIO VERDE</option>
<option value="SAO SEBASTIAO PARAISO">SAO SEBASTIAO PARAISO</option>
<option value="SAO TIAGO">SAO TIAGO</option>
<option value="SAO TOMAS DE AQUINO">SAO TOMAS DE AQUINO</option>
<option value="SAO TOME DAS LETRAS">SAO TOME DAS LETRAS</option>
<option value="SAO VICENTE DE MINAS">SAO VICENTE DE MINAS</option>
<option value="SAPUCAI-MIRIM">SAPUCAI-MIRIM</option>
<option value="SARDOA">SARDOA</option>
<option value="SARZEDO">SARZEDO</option>
<option value="SEM-PEIXE">SEM-PEIXE</option>
<option value="SENADOR AMARAL">SENADOR AMARAL</option>
<option value="SENADOR CORTES">SENADOR CORTES</option>
<option value="SENADOR FIRMINO">SENADOR FIRMINO</option>
<option value="SENADOR JOSE BENTO">SENADOR JOSE BENTO</option>
<option value="SENADOR MODESTINO GONCALVES">SENADOR MODESTINO GONCALVES</option>
<option value="SENHORA DE OLIVEIRA">SENHORA DE OLIVEIRA</option>
<option value="SENHORA DO PORTO">SENHORA DO PORTO</option>
<option value="SENHORA DOS REMEDIOS">SENHORA DOS REMEDIOS</option>
<option value="SERICITA">SERICITA</option>
<option value="SERITINGA">SERITINGA</option>
<option value="SERRA AZUL DE MINAS">SERRA AZUL DE MINAS</option>
<option value="SERRA DA SAUDADE">SERRA DA SAUDADE</option>
<option value="SERRA DO SALITRE">SERRA DO SALITRE</option>
<option value="SERRA DOS AIMORES">SERRA DOS AIMORES</option>
<option value="SERRANIA">SERRANIA</option>
<option value="SERRANOPOLIS DE MINAS">SERRANOPOLIS DE MINAS</option>
<option value="SERRANOS">SERRANOS</option>
<option value="SERRO">SERRO</option>
<option value="SETE LAGOAS">SETE LAGOAS</option>
<option value="SETUBINHA">SETUBINHA</option>
<option value="SILVEIRANIA">SILVEIRANIA</option>
<option value="SILVIANOPOLIS">SILVIANOPOLIS</option>
<option value="SIMAO PEREIRA">SIMAO PEREIRA</option>
<option value="SIMONESIA">SIMONESIA</option>
<option value="SOBRALIA">SOBRALIA</option>
<option value="SOLEDADE DE MINAS">SOLEDADE DE MINAS</option>
<option value="TABULEIRO">TABULEIRO</option>
<option value="TAIOBEIRAS">TAIOBEIRAS</option>
<option value="TAPARUBA">TAPARUBA</option>
<option value="TAPIRA">TAPIRA</option>
<option value="TAPIRAI">TAPIRAI</option>
<option value="TAQUARACU DE MINAS">TAQUARACU DE MINAS</option>
<option value="TARUMIRIM">TARUMIRIM</option>
<option value="TEIXEIRAS">TEIXEIRAS</option>
<option value="TEOFILO OTONI">TEOFILO OTONI</option>
<option value="TIMOTEO">TIMOTEO</option>
<option value="TIRADENTES">TIRADENTES</option>
<option value="TIROS">TIROS</option>
<option value="TOCANTINS">TOCANTINS</option>
<option value="TOCOS DO MOJI">TOCOS DO MOJI</option>
<option value="TOLEDO">TOLEDO</option>
<option value="TOMBOS">TOMBOS</option>
<option value="TRES CORACOES">TRES CORACOES</option>
<option value="TRES MARIAS">TRES MARIAS</option>
<option value="TRES PONTAS">TRES PONTAS</option>
<option value="TUMIRITINGA">TUMIRITINGA</option>
<option value="TUPACIGUARA">TUPACIGUARA</option>
<option value="TURMALINA">TURMALINA</option>
<option value="TURVOLANDIA">TURVOLANDIA</option>
<option value="UBA">UBA</option>
<option value="UBAI">UBAI</option>
<option value="UBAPORANGA">UBAPORANGA</option>
<option value="UBERABA">UBERABA</option>
<option value="UBERLANDIA" selected="">UBERLANDIA</option>
<option value="UMBURATIBA">UMBURATIBA</option>
<option value="UNAI">UNAI</option>
<option value="UNIAO DE MINAS">UNIAO DE MINAS</option>
<option value="URUANA DE MINAS">URUANA DE MINAS</option>
<option value="URUCANIA">URUCANIA</option>
<option value="URUCUIA">URUCUIA</option>
<option value="VARGEM ALEGRE">VARGEM ALEGRE</option>
<option value="VARGEM BONITA">VARGEM BONITA</option>
<option value="VARGEM GRANDE DO RIO PARDO">VARGEM GRANDE DO RIO PARDO</option>
<option value="VARGINHA">VARGINHA</option>
<option value="VARJAO DE MINAS">VARJAO DE MINAS</option>
<option value="VARZEA DA PALMA">VARZEA DA PALMA</option>
<option value="VARZELANDIA">VARZELANDIA</option>
<option value="VAZANTE">VAZANTE</option>
<option value="VERDELANDIA">VERDELANDIA</option>
<option value="VEREDINHA">VEREDINHA</option>
<option value="VERISSIMO">VERISSIMO</option>
<option value="VERMELHO NOVO">VERMELHO NOVO</option>
<option value="VESPASIANO">VESPASIANO</option>
<option value="VICOSA">VICOSA</option>
<option value="VIEIRAS">VIEIRAS</option>
<option value="VIRGEM DA LAPA">VIRGEM DA LAPA</option>
<option value="VIRGINIA">VIRGINIA</option>
<option value="VIRGINOPOLIS">VIRGINOPOLIS</option>
<option value="VIRGOLANDIA">VIRGOLANDIA</option>
<option value="VISCONDE DO RIO BRANCO">VISCONDE DO RIO BRANCO</option>
<option value="VOLTA GRANDE">VOLTA GRANDE</option>
<option value="WENCESLAU BRAZ">WENCESLAU BRAZ</option></select>
<script type="application/json" data-for="cidade" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="col-sm-4">
<form class="well" role="complementary">

<div id="popCidade" class="shiny-text-output"></div>
</form>
</div>
</div>
<div class="cell-output-display no-overflow-x">
<div class="form-group shiny-input-container">
<label class="control-label" id="categoria-label" for="categoria">Categoria:</label>
<div>
<select id="categoria" class="shiny-input-select"><option value="Todas" selected="">Todas</option>
<option value="Estupro">Estupro</option>
<option value="Extorsão">Extorsão</option>
<option value="Homicídio">Homicídio</option>
<option value="Roubo">Roubo</option>
<option value="Sequestro">Sequestro</option>
<option value="Feminicídio">Feminicídio</option></select>
<script type="application/json" data-for="categoria" data-nonempty="">{"plugins":["selectize-plugin-a11y"]}</script>
</div>
</div>
</div>
<div class="cell-output-display">
<div class="form-group shiny-input-container no-baseline" style="width:98%;">
<label class="control-label" id="ano-label" for="ano">Ano:</label>
<input class="js-range-slider" id="ano" data-skin="shiny" data-type="double" data-min="2012" data-max="2025" data-from="2012" data-to="2025" data-step="TRUE" data-grid="true" data-grid-num="6.5" data-grid-snap="false" data-prettify-separator="" data-prettify-enabled="false" data-keyboard="true" data-drag-interval="true" data-data-type="number">
</div>
</div>
<div class="cell-output-display">
<div id="tipoCrime" class="form-group shiny-input-checkboxgroup shiny-input-container shiny-input-container-inline" role="group" aria-labelledby="tipoCrime-label">
<label class="control-label" id="tipoCrime-label" for="tipoCrime">Crime:</label>
<div class="shiny-options-group">
<label class="checkbox-inline">
<input type="checkbox" name="tipoCrime" value="Consumado" checked="checked">
<span>Consumado</span>
</label>
<label class="checkbox-inline">
<input type="checkbox" name="tipoCrime" value="Tentado" checked="checked">
<span>Tentado</span>
</label>
</div>
</div>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center collapsed" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Important</span>Avisos
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="h2">
Avisos
</div>
<p>Fonte dos dados: <a href="https://www.seguranca.mg.gov.br/index.php/transparencia/dados-abertos">Sejusp</a></p>
<p>Os dados são reportados mensalmente e se referem aos registros, e não à quantidade de vítimas.</p>
<p>Os dados de feminicídio passaram a ser reportados separadamente de hominício a partir 2025.</p>
<p>São consideradas: Cidades pequenas: menos de 100 mil hab. Cidades médias: com 100 mil a 500 mil hab. Cidades grandes: mais de 500 mil hab.</p>
<p>A cidade é classificada de acordo com a população do último ano do intervalo de tempo escolhido.</p>
<p>Caso o intervalo de tempo escolhido seja de um ano, a opção de ‘Dados mensais’ será automaticamente selecionada e a escala do gráfico mudará de ‘ano’ para ‘mês’.</p>
<p>Os dados da população de 2023 são iguais ao da população de 2022.</p>
<p>Dúvidas ou sugestões: petestatisticaufu@gmail.com</p>
</div>
</div>
</div>
</div></aside>
<button class="collapse-toggle" type="button" title="Toggle sidebar" aria-expanded="true" aria-controls="bslib-sidebar-1">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16 16" class="bi bi-chevron-left collapse-icon" style="fill:currentColor;" aria-hidden="true" role="img">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"></path>
    </svg>
</button>
<script data-bslib-sidebar-init="">
bslib.Sidebar.initCollapsibleAll()
</script>
</div>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
## Carrega pacotes

if(!require('ggplot2'))install.packages("ggplot2");library(ggplot2)
if(!require('dplyr'))install.packages("dplyr");library(dplyr)
if(!require('geobr'))install.packages("geobr");library(geobr)
if(!require('bslib'))install.packages("bslib");library(bslib)
if(!require('plotly'))install.packages("plotly");library(plotly)
if(!require('stringr'))install.packages("stringr");library(stringr)
if(!require('ragg'))install.packages("ragg");library(ragg)
if(!require('quarto'))install.packages("quarto");library(quarto)

cor_azul_escuro <- "#172C3C"
cor_azul <- "#274862"
cor_vermelho <- "#995052"
cor_laranja <- "#D96831"
cor_amarelo <- "#E6B33D"
cor_cards <- cor_vermelho
cor_barras <- cor_vermelho

paleta_cores <- c("#274862", "#48C837", "#3791C8", "#B737C8", "#E6B33D", "#D96831", "#995052")

grupo_habitantes <- 1000
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
## Carrega e transforma os data frames

### Data frame com os dados de criminalidade
dados_totais <- read.csv(gzfile("dados_dash/dados_totais_tratados.csv.gz"), check.names = FALSE, fileEncoding = "UTF-8")

### Data frame com a população dos Municípios
dados_populacao <- read.csv("dados_dash/dados_populacao_completo.csv")

dados_populacao <- dados_populacao |>
  rename(cod_municipio = localidade)


### Data frame com o mapa de Minas Gerais
mapa_minas <- read_municipality(code_muni = "MG")

mapa_minas <- mapa_minas |> 
  mutate(code_muni = as.numeric(substr(mapa_minas$code_muni, start = 1, stop = 6))) |>
  select(code_muni, geom) |>
  rename(cod_municipio = code_muni)

</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
## Variáveis importantes

ano_minimo <- min(unique(dados_totais$ano))
ano_maximo <- max(unique(dados_totais$ano))
qtd_ranking <- 10
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
## Cria funções de uso geral

filtra_dataframe <- function(nome_municipio = NULL, categ = NULL, anoIntervalo = NULL, tamanho_cidade = NULL, manter_muni = NULL, tipo_crime = NULL) {
  
  df <- dados_totais
  
  if(!is.null(nome_municipio)) {
    df <- df |>
      filter(municipio == nome_municipio)
  }
  
  if(!identical(tipo_crime, c("Consumado", "Tentado")) & !is.null(tipo_crime)) {
    df <- df |>
    filter(tipo == tipo_crime)
  }

  
  if(!is.null(categ)) {
    df <- df |>
      filter(categoria == categ)
  }
  
  if(!is.null(anoIntervalo)) {
    df <- df |>
      filter(ano >= anoIntervalo[1] & ano <= anoIntervalo[2])
  }
  
  if(!is.null(tamanho_cidade)) {
    
    if(tamanho_cidade != "Todas") {
      
      cod_muni <- dados_populacao
      
      # Verifica o porte da cidade pelo último ano do intervalo escolhido
      if(!is.null(anoIntervalo)) {
        cod_muni <- cod_muni |>
          filter(ano == anoIntervalo[2])
      } else {
        cod_muni <- cod_muni |>
          filter(ano == max(ano))
      }
      
      if(tamanho_cidade == "Grandes") {
        
        cod_muni <- cod_muni |>
        filter(populacao > 500000)
        
      } else if(tamanho_cidade == "Médias") {
        
        cod_muni <- cod_muni |>
        filter(populacao >= 100000 & populacao <= 500000)
        
      } else if(tamanho_cidade == "Pequenas") {
        
        cod_muni <- cod_muni |>
        filter(populacao < 100000)
        
      } else if(tamanho_cidade == "Grandes e médias") {
        cod_muni <- cod_muni |>
        filter(populacao >= 100000)
        
      } else if(tamanho_cidade == "Médias e pequenas") {
        cod_muni <- cod_muni |>
        filter(populacao <= 500000)
        
      }
      
      cod_muni <- cod_muni |>
        pull(cod_municipio)
      
      ## Mantém o município mesmo que esteja abaixo do limite
      if(!is.null(manter_muni)) { 
        manter_cod <- dados_totais |>
          filter(municipio == manter_muni) |>
          pull(cod_municipio) |>
          first()
        
        cod_muni <- c(cod_muni, manter_cod)
      }
      
      df <- df |>
        filter(cod_municipio %in% cod_muni)
    }
  }

  df
}

populacao_cidade <- function(nome_municipio) {
  
  cod_muni <- dados_totais |>
    filter(municipio == nome_municipio) |>
    pull(cod_municipio) |>
    first()
  
  pop <- dados_populacao |>
    filter(ano == max(ano)) |>
    filter(cod_municipio == cod_muni) |>
    pull(populacao)
  
  pop <- format(pop, big.mark = ".")
  pop
}

ranking_populacao <- function(nome_municipio) {
  
  cod_muni <- dados_totais |>
      filter(municipio == nome_municipio) |>
      pull(cod_municipio) |>
      first()
  
  df <- dados_populacao |>
    filter(ano == max(ano)) |>
    arrange(desc(populacao))
  
  pos <- which(df$cod_municipio == cod_muni)
  pos <- paste0(pos, "ª")
  pos
}

texto_informativo <- function(nome_municipio) {
  
  nome <- nome_municipio
  pop <- populacao_cidade(nome_municipio)
  pos <- ranking_populacao(nome_municipio) 
      
  txt <- paste0(nome, " possui ", pop, " hab. e é a ", pos, " cidade mineira com maior população, em ", max(dados_populacao$ano), ".")
  
  txt
}
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
## Cria funções para value boxes

total_crimes <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(nome_municipio = nome_municipio, categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)

  total <- df |>
    pull(registros) |>
    sum()
  
  total <- format(total, big.mark=".")
  total
}

crimes_rel_habitantes <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(nome_municipio = nome_municipio, categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)
  
  total <- df |>
    group_by(ano) |>
    reframe(registros = sum(registros)) |>
    pull(registros)
  
  cod_muni <- df |>
    pull(cod_municipio) |>
    first()

  pop <- dados_populacao |>
    filter(cod_municipio == cod_muni)
    
  if(!is.null(anoIntervalo)) {
    pop <- pop |>
      filter(ano >= anoIntervalo[1] & ano <= anoIntervalo[2])
  }
  
  pop <- pop |>
    pull(populacao)
  
  resultado <- sum(total*grupo_habitantes/pop)
  resultado <- round(resultado, 2)
  resultado <- format(resultado, decimal.mark=",")
  resultado
}

media_crimes <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(nome_municipio = nome_municipio, categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)
  
  media <- df |>
    group_by(ano, mes) |>
    reframe(registros = sum(registros)) |>
    pull(registros) |>
    mean()
  
  media <- round(media, 2)
  media <- format(media, decimal.mark = ",")
  media
}

porc_alteracao_crimes <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(nome_municipio = nome_municipio, categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)
  
  valores <- df |>
    group_by(ano, mes) |>
    reframe(registros = sum(registros)) |>
    pull(registros) |>
    tail(2)
  
  if(valores[1] == 0) {
    alteracao <- "Indefinida"
  } else {
    alteracao <- (valores[2]-valores[1])/valores[1]
    alteracao <- round(alteracao*100, 2)
    alteracao <- format(alteracao, decimal.mark = ",")
    alteracao <- paste0(alteracao, "%")
  }
  alteracao
}

posicao_abs_municipio <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)
  
  df <- df |>
    group_by(municipio) |>
    reframe(registros = sum(registros)) |>
    arrange(desc(registros))
  
  posicao <- which(df$municipio == nome_municipio)
  posicao <- paste0(posicao, "º")
  posicao
}

posicao_rel_municipio <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)
  
  df <- df |>
    group_by(municipio, cod_municipio, ano) |>
    reframe(registros = sum(registros))
    
  df <- df |>
    left_join(dados_populacao, by=c("cod_municipio", "ano"))
  
  df <- df |>
    mutate(registros_rel_habitantes = (registros/populacao)*grupo_habitantes) |>
    group_by(municipio) |>
    reframe(registros_rel_habitantes = sum(registros_rel_habitantes)) |>
    arrange(desc(registros_rel_habitantes))
  
  posicao <- which(df$municipio == nome_municipio)
  posicao <- paste0(posicao, "º")
  posicao
}
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
## Cria data frames para gráficos e tabelas

df_total <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(nome_municipio = nome_municipio, categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)

  if(is.null(categ)) {
    
    df <- df |>
      select(categoria, registros)
    
    linhas_totais <- df |>
      reframe(registros = sum(registros)) |>
      mutate(categoria = "Total")
  
    df <- rbind(df, linhas_totais)
    
    df <- df |>
      group_by(categoria) |>
      reframe(registros = sum(registros)) |>
      mutate(categoria = reorder(categoria, registros))
    
  } else {
    
    df <- df |>
      select(natureza, registros)
    
    linhas_totais <- df |>
      reframe(registros = sum(registros)) |>
      mutate(natureza = "Total")
    
    df <- rbind(df, linhas_totais) 
    
    df <- df |>
      group_by(natureza) |>
      reframe(registros = sum(registros)) |>
      mutate(natureza = reorder(natureza, registros))
  }
  
  df
}

df_temporal <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, dados_mensais = FALSE, tipo_crime = NULL) {
  
  df <- filtra_dataframe(nome_municipio = nome_municipio, categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)

  if(is.null(categ)) {
    
    if(dados_mensais == TRUE) {
      
      df <- df |>
        select(categoria, registros, ano, mes)
    
      linhas_totais <- df |>
        group_by(mes, ano) |>
        reframe(registros = sum(registros)) |>
        mutate(categoria = "Total")
      
      df <- rbind(df, linhas_totais)
    
      df <- df |>
        group_by(categoria, mes, ano) |>
        reframe(registros = sum(registros)) |>
        arrange(ano, mes) 
      
    } else {
      
      df <- df |>
        select(categoria, registros, ano)
            
      linhas_totais <- df |>
        group_by(ano) |>
        reframe(registros = sum(registros)) |>
        mutate(categoria = "Total")
      
      df <- rbind(df, linhas_totais)
    
      df <- df |>
        group_by(categoria, ano) |>
        reframe(registros = sum(registros)) |>
        arrange(ano)  
    }
    
  } else {
    
    if(dados_mensais == TRUE) {
      
      df <- df |>
        select(natureza, registros, mes, ano)
    
      linhas_totais <- df |>
        group_by(mes, ano) |>
        reframe(registros = sum(registros)) |>
        mutate(natureza = "Total")
    
      df <- rbind(df, linhas_totais) |>
        group_by(natureza, mes, ano) |>
        reframe(registros = sum(registros)) |>
        arrange(ano, mes) 
      
    } else {
      
      df <- df |>
        select(natureza, registros, ano)
    
      linhas_totais <- df |>
        group_by(ano) |>
        reframe(registros = sum(registros)) |>
        mutate(natureza = "Total")
    
      df <- rbind(df, linhas_totais) |>
        group_by(natureza, ano) |>
        reframe(registros = sum(registros)) |>
        arrange(ano) 
    }
     
  }
  
  if(dados_mensais == TRUE) {
    
    df$data <- as.Date(paste(df$ano, df$mes, "01", sep="-"))
    
  } else {
    
    df$data <- as.Date(paste(df$ano, "01", "01", sep="-"))

  }
  
  df
}

df_ranking_crime <- function(nome_municipio, categ = NULL, anoIntervalo = NULL, tipo_crime = NULL, tamanho_cidade = NULL, ordem) {
  
  ## A variável nome_municipio recebido na função é passado como argumento de manter_muni na função que filtra o data frame 
  
  df <- filtra_dataframe(categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime, tamanho_cidade = tamanho_cidade, manter_muni = NULL)
  ## Caso queira que o município selecionado não seja filtrado, utilize manter_muni = nome_municipio. Em NULL o município será filtrado (retirado) se não pertencer ao tamanho da cidade escolhido.
  
  df <- df |>
    group_by(municipio, cod_municipio, ano) |>
    reframe(registros = sum(registros))

  
  dados_populacao_filtrada <- dados_populacao
  
  if(!is.null(anoIntervalo)) {
    dados_populacao_filtrada <- dados_populacao_filtrada |>
      filter(ano >= anoIntervalo[1] & ano <= anoIntervalo[2])
  }

  ## Reúne em uma só tabela os dados dos registros e da população por ano. Calcula a taxa (registros relativos a população) por ano e depois soma
  df <- df |>
    left_join(dados_populacao_filtrada, by=c("cod_municipio", "ano")) |>
    mutate(registros_rel_habitantes = (registros/populacao)*grupo_habitantes) |>
    group_by(municipio, cod_municipio) |>
    reframe(registros_rel_habitantes = sum(registros_rel_habitantes), registros = sum(registros)) |>
    arrange(desc(registros_rel_habitantes))

  
  ## Reordena o data.frame de forma ascendente caso a ordem seja "Crescente". Se não for, mantém. 
  if(ordem == "Crescente") {
    df <- df |>
      arrange(registros_rel_habitantes)
  }
  
  qtd_linhas <- ifelse(nrow(df) < qtd_ranking, yes = nrow(df), no = qtd_ranking) 
  
  df_atualizado <- df |>
    head(qtd_linhas) |>
    mutate(pos = seq(1:qtd_linhas))
        
  ## Verifica se o município selecionado está no ranking
  if(nome_municipio %in% df$municipio) {
    pos_municipio <- which(df$municipio == nome_municipio)
    
    if(pos_municipio > qtd_linhas) {
      df_atualizado <- df_atualizado |>
        head(qtd_linhas) |>
        bind_rows(df[pos_municipio,]) |>
        mutate(pos = c(seq(1:(qtd_linhas)), pos_municipio))
    }
  }
  
  ## Arredonda a taxa (registros relativos a população) para duas casas decimais
  df_atualizado <- df_atualizado |>
    mutate(registros_rel_habitantes = round(registros_rel_habitantes,2))
  
  ## Define a mesma posição para taxa (registros relativos a população) iguais
  for(i in 2:nrow(df_atualizado)) {
    if(df_atualizado$registros_rel_habitantes[i] == df_atualizado$registros_rel_habitantes[i-1]) {
      df_atualizado$pos[i] = df_atualizado$pos[i-1]
    }
  }
  
  ## Cria o nome da coluna de acordo com a categoria escolhida
  coluna_taxa <- ""
  if(is.null(categ)) {
    coluna_taxa <- paste0("Crimes violentos por mil hab.")
  } else {
    coluna_taxa <- paste0(categ, " por mil hab.")
  }
  
  df_atualizado <- df_atualizado |>
    relocate(pos) |>
    mutate(registros_rel_habitantes = format(registros_rel_habitantes, big.mark = ".", decimal.mark = ",")) |>
    select(pos, municipio, registros_rel_habitantes) |>
    rename(`#` = pos, `Município` = municipio, "{coluna_taxa}" := registros_rel_habitantes)
   
  df_atualizado 
}

df_ranking_populacao <- function(nome_municipio, anoIntervalo = NULL, tamanho_cidade = NULL, ordem) {
  
  ## A variável nome_municipio recebido na função é passado como argumento de manter_muni na função que filtra o data frame 
  
  df <- filtra_dataframe(anoIntervalo = anoIntervalo, tamanho_cidade = tamanho_cidade, manter_muni = NULL)
  ## Caso queira que o município selecionado não seja filtrado, utilize manter_muni = nome_municipio. Em NULL o município será filtrado (retirado) se não pertencer ao tamanho da cidade escolhido.
  
  dados_populacao_filtrada <- dados_populacao
  
  if(!is.null(anoIntervalo)) {
    dados_populacao_filtrada <- dados_populacao_filtrada |>
      filter(ano >= anoIntervalo[1] & ano <= anoIntervalo[2])
  }
  
  ## Reúne em uma só tabela os dados dos municípios e da população por ano. Depois seleciona apenas o último ano do intervalo de tempo escolhido
  df <- df |>
    left_join(dados_populacao_filtrada, by=c("cod_municipio", "ano")) |>
    group_by(municipio, cod_municipio, populacao, ano) |>
    reframe(registros = sum(registros)) |>
    filter(ano == max(ano)) |>
    arrange(desc(populacao)) 

  ## Reordena o data.frame de forma ascendente caso a ordem seja "Crescente". Se não for, mantém. 
  if(ordem == "Crescente") {
    df <- df |>
      arrange(populacao)
  }
  
 qtd_linhas <- ifelse(nrow(df) < qtd_ranking, yes = nrow(df), no = qtd_ranking) 
  
  df_atualizado <- df |>
    head(qtd_linhas) |>
    mutate(pos = seq(1:qtd_linhas))
        
  ## Verifica se o município selecionado está no ranking
  if(nome_municipio %in% df$municipio) {
    pos_municipio <- which(df$municipio == nome_municipio)

    if(pos_municipio > qtd_linhas) {
      df_atualizado <- df_atualizado |>
        head(qtd_linhas) |>
        bind_rows(df[pos_municipio,]) |>
        mutate(pos = c(seq(1:(qtd_linhas)), pos_municipio))
    }
  }
  
  ## Define a mesma posição para populações iguais
  for(i in 2:nrow(df_atualizado)) {
    if(df_atualizado$populacao[i] == df_atualizado$populacao[i-1]) {
      df_atualizado$pos[i] = df_atualizado$pos[i-1]
    }
  }
  
  ## Cria nome da coluna de população de acordo com o ano
  coluna_populacao <- paste0("População em ", max(df_atualizado$ano))
  
  
  df_atualizado <- df_atualizado |>
    relocate(pos) |>
    mutate(populacao = format(populacao, big.mark = ".")) |>
    select(pos, municipio, populacao) |>
    rename(`#` = pos, `Município` = municipio, "{coluna_populacao}" := populacao)
   
  df_atualizado 
}

df_mapa <- function(categ = NULL, anoIntervalo = NULL, tipo_crime = NULL) {
  
  df <- filtra_dataframe(categ = categ, anoIntervalo = anoIntervalo, tipo_crime = tipo_crime)

  df <- df |>
    group_by(municipio, cod_municipio) |>
    reframe(registros = sum(registros)) |>
    left_join(dados_populacao, by="cod_municipio") |>
    mutate(registros_rel_habitantes = (registros/populacao)*grupo_habitantes)

  df <- left_join(mapa_minas, df, by="cod_municipio")
  
  df
}
</script>
 
<script type="application/shiny-prerendered" data-context="server-start">
## Cria gráficos

grafico_barras_natureza <- function(tabela, categ = NULL) {
  
  if(is.null(categ)) {
    gg <- ggplot(data = tabela, aes(x=registros, y=categoria))
  } else {
    gg <- ggplot(data = tabela, aes(x=registros, y=natureza))
  }
  
  gr <- gg +
    geom_col(fill = cor_barras) +
    geom_text(aes(label = registros, x = registros + max(registros)*(0.035), fontface = "bold"), hjust = 0, size = 5) +
    coord_cartesian(xlim = c(0, max(tabela$registros)+max(tabela$registros)*(0.20))) +
    scale_y_discrete(labels = function(x) str_wrap(x, width = 15)) +
    labs(x = NULL, y = NULL) +
    theme(axis.text.y = element_text(size=12), axis.text.x = element_blank(), panel.grid.major = element_blank(), panel.grid.minor = element_blank(), panel.background = element_blank(), axis.ticks = element_blank()) 
  
  gr
}

grafico_linhas_historico <- function(tabela, categ = NULL) {
  
  if(is.null(categ)) {
    gg <- ggplot(data = tabela, aes(x=data, y=registros, group=categoria, color=categoria, text = paste("Registros:", registros, "<br>Data:", format(data, "%m/%y"), "<br>Categoria:", categoria)))
  } else {
    gg <- ggplot(data = tabela, aes(x=data, y=registros, group=natureza, color=natureza, text = paste("Registros:", registros, "<br>Data:", format(data, "%m/%y"), "<br>Natureza:", natureza)))
  }
  
  gr <- gg +
    geom_line()
  
  if(min(tabela$ano) == max(tabela$ano)) {
    gr <- gr +
      scale_x_date(date_breaks = "1 month", date_labels = "%m") +
      labs(x = "Mês", y = NULL, color = NULL)
  } else {
    gr <- gr +
      scale_x_date(date_breaks = "1 year", date_labels = "%y") +
      labs(x = "Ano", y = NULL, color = NULL)
  }
  
  gr <- gr +
    scale_color_manual(values = paleta_cores) +
    scale_y_continuous(
      breaks = scales::pretty_breaks(), 
      limits = c(0, NA), 
      labels = scales::number_format(accuracy = 1, decimal.mark = ",")) +  # Apenas números inteiros
    theme_minimal()
  
 
  gr_plotly <- ggplotly(gr, tooltip = "text") |>
    layout(xaxis = list(autorange = TRUE), 
           yaxis = list(autorange = TRUE,
                        tickmode = "auto"),
           legend = list(orientation = "h",    # Orientação horizontal
                         x = 0.5,              # Posição centralizada no eixo X
                         y = -0.5,             # Abaixo do gráfico no eixo Y
                         xanchor = "center",   # Âncora da posição no centro
                         yanchor = "top"),      # Âncora da posição no topo
           showlegend = TRUE)     


  # Definir a visibilidade de cada linha
  for (i in seq_along(gr_plotly$x$data)) {
  
    nome_trace <- gr_plotly$x$data[[i]]$name
    
    if (!is.null(nome_trace) && nome_trace == "Total") {
      gr_plotly$x$data[[i]]$visible <- TRUE
    } else {
      gr_plotly$x$data[[i]]$visible <- "legendonly"
    }
  }
  
  gr_plotly
}

grafico_mapa_violencia <- function(tabela) {
  
  gr <- ggplot() +
    geom_sf(data = tabela, aes(fill=registros_rel_habitantes)) +
    scale_fill_gradient(low = "#FFFFFF", high = "#492627", name = "Crimes \npor mil hab.") +
    theme_void()
  
    gr
}

grafico_mapa_localizacao <- function(tabela, nome_municipio) {
  
  tabela <- tabela |>
    mutate(muni_selecionado = ifelse(municipio == nome_municipio, yes=1, no=0)) |>
    select(municipio, geom, muni_selecionado)
  
  gr <- ggplot() +
    geom_sf(data = tabela, fill = "gray90", color = "gray75") +
    geom_sf(data = subset(tabela, municipio == nome_municipio), fill = "blue", color = NA) +
    labs(subtitle = "A cidade selecionada foi preenchida com a cor azul") +
    theme(plot.subtitle = element_text(size=10)) +
    theme_void()
  
  gr
}
</script>
 
<script type="application/shiny-prerendered" data-context="server">
# Variáveis que recebem os inputs do sidebar
cidade_escolhida <- reactive({
  input$cidade
})

categoria_escolhida <- reactive({
  if(input$categoria == "Todas") {
    return (NULL)
  } else {
    input$categoria
  }
})

ano_escolhido <- reactive({
  if(identical(input$ano, c(ano_minimo, ano_maximo))) {
    return (NULL)
  } else {
    input$ano
  }
})

observe({
  x <- input$tipoCrime
  
  if(is.null(x)) {
    x <- c("Consumado", "Tentado")
    updateCheckboxGroupInput(inputId = "tipoCrime", selected = x)
  }
})

tipo_crime_escolhido <- reactive({
  input$tipoCrime
})

# Texto exibido no sidebar
output$popCidade <- renderText({
  texto_informativo(cidade_escolhida())
})
  
# Variável no gráfico de linhas
observe({
  intervalo_ano <- input$ano
  dm <- input$dadosMensais # Observa clique em 'Dados Mensais' 
  
  if(intervalo_ano[1] == intervalo_ano[2]) {
    updateCheckboxInput(inputId = "dadosMensais", value = TRUE)
  }
})

dados_mensais_ativado <- reactive({
  input$dadosMensais
})

# Variáveis em RAKINGS
tamanho_cidade <- reactive({
  input$pop
})

ordem_ranking <- reactive({
  input$ordem
})


# Tabelas para criar gráficos
tab_categoria_temporal <- reactive({df_temporal(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), dados_mensais = dados_mensais_ativado(), tipo_crime = tipo_crime_escolhido())}) 

tab_categoria_total <- reactive({df_total(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())}) 

tab_mapa <- reactive({df_mapa(categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())})


# Outputs exibidos em ESTATÍSTICAS
output$crimesTotais <- renderText({
  total_crimes(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())
})

output$crimesRelativos <- renderText({
  crimes_rel_habitantes(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())
})

output$crimesMediaMensal <- renderText({
  media_crimes(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())
})

output$crimesVariacao <- renderText({
  porc_alteracao_crimes(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())
})

output$crimesPosAbsoluta <- renderText({
  posicao_abs_municipio(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())
})

output$crimesPosRelativa <- renderText({
  posicao_rel_municipio(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido())
})

output$gr_naturezaCrime <- renderPlot({
  grafico_barras_natureza(tabela = tab_categoria_total(), categ = categoria_escolhida())
})

output$gr_historicoCrime <- renderPlotly({
  grafico_linhas_historico(tabela = tab_categoria_temporal(), categ = categoria_escolhida())
})


# Outputs exibidos em RANKINGS
output$tb_ranking <- renderTable({
  df_ranking_crime(nome_municipio = cidade_escolhida(), categ = categoria_escolhida(), anoIntervalo = ano_escolhido(), tipo_crime = tipo_crime_escolhido(), tamanho_cidade = tamanho_cidade(), ordem = ordem_ranking())
})

output$tb_populacao <- renderTable({
  df_ranking_populacao(nome_municipio = cidade_escolhida(), anoIntervalo = ano_escolhido(), tamanho_cidade = tamanho_cidade(), ordem = ordem_ranking())
})

# Outputs exibidos em MAPAS
output$gr_mapaViolencia <- renderPlot({
  grafico_mapa_violencia(tabela = tab_mapa())
})

output$gr_localizacao <- renderPlot({
  grafico_mapa_localizacao(tabela = tab_mapa(), nome_municipio = cidade_escolhida())
})
</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(
    function(q, nm, val) {
      # Infer name, if possible
      if (nm == "") {
        tryCatch(
          {
            nm <- rlang::as_name(q)
          },
          error = function(e) {
            code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
            stop(
              "ojs_define() could not create a name for the argument: ",
              code
            )
          }
        )
      }
      .session$output[[nm]] <- val
      outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
      .session$sendCustomMessage("ojs-export", list(name = nm))
      NULL
    },
    quos,
    nm,
    vars,
    SIMPLIFY = FALSE,
    USE.NAMES = FALSE
  )
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-js"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src"]}},"value":[{"type":"character","attributes":{},"value":["components.min.js"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["src","type"]}},"value":[{"type":"character","attributes":{},"value":["web-components.min.js"]},{"type":"character","attributes":{},"value":["module"]}]}]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-component-css"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components/dist"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["components.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bslib-tag-require"]},{"type":"character","attributes":{},"value":["0.9.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["components"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tag-require.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["bslib"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"character","attributes":{},"value":["1.6.4"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmlwidgets"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.6.4"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["plotly-binding"]},{"type":"character","attributes":{},"value":["4.11.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["htmlwidgets"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["plotly"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["4.11.0"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["selectize"]},{"type":"character","attributes":{},"value":["0.15.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/selectize"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/selectize.min.js","accessibility/js/selectize-plugin-a11y.min.js"]},{"type":"character","attributes":{},"value":["css/selectize.bootstrap3.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.12.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["htmltools-fill"]},{"type":"character","attributes":{},"value":["0.5.9"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["fill"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["fill.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["htmltools"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.5.9"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80]}},"value":[{"type":"character","attributes":{},"value":["base","bslib","cachem","class","classInt","cli","compiler","curl","data.table","datasets","DBI","digest","dplyr","e1071","evaluate","farver","fastmap","fs","generics","geobr","ggplot2","glue","graphics","grDevices","grid","gtable","htmltools","htmlwidgets","httpuv","httr","jquerylib","jsonlite","KernSmooth","knitr","later","lazyeval","lifecycle","magrittr","memoise","methods","mime","otel","pillar","pkgconfig","plotly","processx","promises","proxy","ps","purrr","quarto","R6","ragg","RColorBrewer","Rcpp","rlang","rmarkdown","rstudioapi","S7","sass","scales","sf","shiny","stats","stringi","stringr","systemfonts","textshaping","tibble","tidyr","tidyselect","tools","units","utils","vctrs","viridisLite","withr","xfun","xtable","yaml"]},{"type":"character","attributes":{},"value":["4.3.3","0.9.0","1.1.0","7.3-22","0.4-11","3.6.5","4.3.3","7.0.0","1.18.0","4.3.3","1.2.3","0.6.39","1.1.4","1.7-17","1.0.5","2.1.2","1.2.0","1.6.6","0.1.4","1.9.1","4.0.1","1.8.0","4.3.3","4.3.3","4.3.3","0.3.6","0.5.9","1.6.4","1.6.16","1.4.7","0.1.4","2.0.0","2.23-22","1.51","1.4.5","0.2.2","1.0.5","2.0.4","2.0.1","4.3.3","0.13","0.2.0","1.11.1","2.0.3","4.11.0","3.8.6","1.5.0","0.4-29","1.9.1","1.2.1","1.5.1","2.6.1","1.5.0","1.1-3","1.1.1","1.1.7","2.30","0.18.0","0.2.1","0.4.10","1.4.0","1.0-24","1.12.1","4.3.3","1.8.7","1.6.0","1.3.1","1.0.4","3.3.1","1.3.2","1.2.1","4.3.3","1.0-0","4.3.3","0.7.1","0.4.2","3.0.2","0.56","1.8-4","2.3.12"]}]}]}
</script>
<!--/html_preserve-->


<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /container fluid -->

<script type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (_event) {
  if (window.bslib.Card) {
    window.bslib.Card.initializeAllCards();
  }
}); 
</script>
  



</body></html>